---
title: "Chat completions"
description: "Call /chat/completions with the Rust SDK."
---

**Method**: `completions_api::create_chat_completion()`.

### Example
```rust
use ai_stats_sdk::apis::{configuration::Configuration, completions_api};
use ai_stats_sdk::models::{ChatCompletionsRequest, ChatMessage, MessageContent};

#[tokio::main]
async fn main() -> Result<(), Box<dyn std::error::Error>> {
    let mut config = Configuration::new();
    config.bearer_access_token = Some("your-api-key".to_string());

    let mut request = ChatCompletionsRequest::new(
        "openai/gpt-4o-mini".to_string(),
        vec![
            ChatMessage::System(ai_stats_sdk::models::ChatMessageSystem::new(
                ai_stats_sdk::models::chat_message_system::Role::System,
                MessageContent::String("You are helpful.".to_string())
            )),
            ChatMessage::User(ai_stats_sdk::models::ChatMessageUser::new(
                ai_stats_sdk::models::chat_message_user::Role::User,
                MessageContent::String("Write a limerick about lighthouses.".to_string())
            )),
        ]
    );
    request.temperature = Some(0.5);

    let response = completions_api::create_chat_completion(&config, request).await?;
    println!("{:?}", response);
    Ok(())
}
```

### Key parameters
- `model` (required): Target model id.
- `messages` (required): Ordered messages with roles `system|user|assistant|tool`; content as strings or parts.
- Sampling: `temperature` (0–2), `top_p` (0–1), `seed` (int, optional).
- Length/penalties: `max_output_tokens` (int), `presence_penalty` and `frequency_penalty` (-2 to 2).
- Tools: `tools` (definitions), `tool_choice` (auto/none/specific tool), `max_tool_calls` (int), `parallel_tool_calls` (bool).
- Logprobs: `logprobs` (bool), `top_logprobs` (0–20).
- Output: `response_format` (json/text), `metadata` (object passthrough), `stream` (bool), `service_tier`.
- Gateway extras: `usage` (bool to request usage), `meta` (bool to include meta block).

### Returns
`ChatCompletionsResponse` JSON.

