/* tslint:disable */
/* eslint-disable */
/**
 * AI Stats Gateway API
 * Programmatic access to the AI Stats AI Gateway. All endpoints forward requests to the best available provider for the specified model, and return normalised responses with clear structured metadata.
 *
 * The version of the OpenAPI document: 0.1.0
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


import * as runtime from '../runtime';
import type {
  GatewayError,
  GatewayHealthResponse,
  ModelId,
} from '../models/index';
import {
    GatewayErrorFromJSON,
    GatewayErrorToJSON,
    GatewayHealthResponseFromJSON,
    GatewayHealthResponseToJSON,
    ModelIdFromJSON,
    ModelIdToJSON,
} from '../models/index';

export interface HealthGetRequest {
    provider?: string;
    model?: ModelId;
    endpoint?: HealthGetEndpointEnum;
}

/**
 * 
 */
export class AnalyticsApi extends runtime.BaseAPI {

    /**
     * Returns the most recent latency, success rate, and breaker status for each configured provider.
     * Inspect provider health
     */
    async healthGetRaw(requestParameters: HealthGetRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<GatewayHealthResponse>> {
        const queryParameters: any = {};

        if (requestParameters['provider'] != null) {
            queryParameters['provider'] = requestParameters['provider'];
        }

        if (requestParameters['model'] != null) {
            queryParameters['model'] = requestParameters['model'];
        }

        if (requestParameters['endpoint'] != null) {
            queryParameters['endpoint'] = requestParameters['endpoint'];
        }

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("GatewayAuth", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/health`;

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => GatewayHealthResponseFromJSON(jsonValue));
    }

    /**
     * Returns the most recent latency, success rate, and breaker status for each configured provider.
     * Inspect provider health
     */
    async healthGet(requestParameters: HealthGetRequest = {}, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<GatewayHealthResponse> {
        const response = await this.healthGetRaw(requestParameters, initOverrides);
        return await response.value();
    }

}

/**
  * @export
  * @enum {string}
  */
export enum HealthGetEndpointEnum {
    chat_completions = 'chat.completions',
    images_generations = 'images.generations',
    audio_speech = 'audio.speech',
    audio_transcription = 'audio.transcription',
    moderations = 'moderations',
    video_generation = 'video.generation'
}
