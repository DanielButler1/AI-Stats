/*
 * AI Stats Gateway API
 *
 * Programmatic access to the AI Stats AI Gateway. All endpoints forward requests to the best available provider for the specified model, and return normalised responses with clear structured metadata.
 *
 * The version of the OpenAPI document: 0.1.0
 * 
 * Generated by: https://openapi-generator.tech
 */

use crate::models;
use serde::{Deserialize, Serialize};

#[derive(Clone, Default, Debug, PartialEq, Serialize, Deserialize)]
pub struct GatewayGenerationRecord {
    #[serde(rename = "request_id")]
    pub request_id: String,
    #[serde(rename = "team_id")]
    pub team_id: String,
    #[serde(rename = "app_id", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub app_id: Option<Option<String>>,
    #[serde(rename = "app_title", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub app_title: Option<Option<String>>,
    #[serde(rename = "referer", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub referer: Option<Option<String>>,
    #[serde(rename = "endpoint")]
    pub endpoint: String,
    #[serde(rename = "model_id", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub model_id: Option<Option<String>>,
    #[serde(rename = "provider", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub provider: Option<Option<String>>,
    #[serde(rename = "native_response_id", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub native_response_id: Option<Option<String>>,
    #[serde(rename = "stream", skip_serializing_if = "Option::is_none")]
    pub stream: Option<bool>,
    #[serde(rename = "byok", skip_serializing_if = "Option::is_none")]
    pub byok: Option<bool>,
    #[serde(rename = "status_code", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub status_code: Option<Option<i32>>,
    #[serde(rename = "success")]
    pub success: bool,
    #[serde(rename = "error_code", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub error_code: Option<Option<String>>,
    #[serde(rename = "error_message", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub error_message: Option<Option<String>>,
    #[serde(rename = "before", skip_serializing_if = "Option::is_none")]
    pub before: Option<std::collections::HashMap<String, serde_json::Value>>,
    #[serde(rename = "execute", skip_serializing_if = "Option::is_none")]
    pub execute: Option<std::collections::HashMap<String, serde_json::Value>>,
    #[serde(rename = "latency_ms", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub latency_ms: Option<Option<f64>>,
    #[serde(rename = "generation_ms", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub generation_ms: Option<Option<f64>>,
    #[serde(rename = "usage", skip_serializing_if = "Option::is_none")]
    pub usage: Option<std::collections::HashMap<String, serde_json::Value>>,
    #[serde(rename = "cost_nanos", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub cost_nanos: Option<Option<i32>>,
    #[serde(rename = "currency", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub currency: Option<Option<String>>,
    #[serde(rename = "pricing_lines", skip_serializing_if = "Option::is_none")]
    pub pricing_lines: Option<Vec<serde_json::Value>>,
}

impl GatewayGenerationRecord {
    pub fn new(request_id: String, team_id: String, endpoint: String, success: bool) -> GatewayGenerationRecord {
        GatewayGenerationRecord {
            request_id,
            team_id,
            app_id: None,
            app_title: None,
            referer: None,
            endpoint,
            model_id: None,
            provider: None,
            native_response_id: None,
            stream: None,
            byok: None,
            status_code: None,
            success,
            error_code: None,
            error_message: None,
            before: None,
            execute: None,
            latency_ms: None,
            generation_ms: None,
            usage: None,
            cost_nanos: None,
            currency: None,
            pricing_lines: None,
        }
    }
}

