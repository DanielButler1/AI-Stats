// <auto-generated>
/*
 * AI Stats Gateway API
 *
 * A gateway API for accessing various AI models with OpenAI-compatible endpoints.
 *
 * The version of the OpenAPI document: 1.0.0
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections.Generic;
using System.Net;
using System.Threading.Tasks;
using Microsoft.Extensions.Logging;
using System.Net.Http;
using System.Net.Http.Headers;
using System.Text.Json;
using AIStatsSdk.Client;
using AIStatsSdk.Model;
using System.Diagnostics.CodeAnalysis;

namespace AIStatsSdk.Api
{
    /// <summary>
    /// Represents a collection of functions to interact with the API endpoints
    /// This class is registered as transient.
    /// </summary>
    public interface IDefaultApi : IApi
    {
        /// <summary>
        /// The class containing the events
        /// </summary>
        DefaultApiEvents Events { get; }

        /// <summary>
        /// Create batch
        /// </summary>
        /// <remarks>
        /// Creates a batch of API requests.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="batchRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateBatchApiResponse"/>&gt;</returns>
        Task<ICreateBatchApiResponse> CreateBatchAsync(BatchRequest batchRequest, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Create batch
        /// </summary>
        /// <remarks>
        /// Creates a batch of API requests.
        /// </remarks>
        /// <param name="batchRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateBatchApiResponse"/>?&gt;</returns>
        Task<ICreateBatchApiResponse?> CreateBatchOrDefaultAsync(BatchRequest batchRequest, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Create chat completion
        /// </summary>
        /// <remarks>
        /// Creates a completion for the chat message.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="chatCompletionsRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateChatCompletionApiResponse"/>&gt;</returns>
        Task<ICreateChatCompletionApiResponse> CreateChatCompletionAsync(ChatCompletionsRequest chatCompletionsRequest, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Create chat completion
        /// </summary>
        /// <remarks>
        /// Creates a completion for the chat message.
        /// </remarks>
        /// <param name="chatCompletionsRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateChatCompletionApiResponse"/>?&gt;</returns>
        Task<ICreateChatCompletionApiResponse?> CreateChatCompletionOrDefaultAsync(ChatCompletionsRequest chatCompletionsRequest, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Create embeddings
        /// </summary>
        /// <remarks>
        /// Creates an embedding vector representing the input text.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="embeddingsRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateEmbeddingApiResponse"/>&gt;</returns>
        Task<ICreateEmbeddingApiResponse> CreateEmbeddingAsync(EmbeddingsRequest embeddingsRequest, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Create embeddings
        /// </summary>
        /// <remarks>
        /// Creates an embedding vector representing the input text.
        /// </remarks>
        /// <param name="embeddingsRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateEmbeddingApiResponse"/>?&gt;</returns>
        Task<ICreateEmbeddingApiResponse?> CreateEmbeddingOrDefaultAsync(EmbeddingsRequest embeddingsRequest, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Create image
        /// </summary>
        /// <remarks>
        /// Creates an image given a prompt.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="imagesGenerationRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateImageApiResponse"/>&gt;</returns>
        Task<ICreateImageApiResponse> CreateImageAsync(ImagesGenerationRequest imagesGenerationRequest, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Create image
        /// </summary>
        /// <remarks>
        /// Creates an image given a prompt.
        /// </remarks>
        /// <param name="imagesGenerationRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateImageApiResponse"/>?&gt;</returns>
        Task<ICreateImageApiResponse?> CreateImageOrDefaultAsync(ImagesGenerationRequest imagesGenerationRequest, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Create image edit
        /// </summary>
        /// <remarks>
        /// Creates an edited or extended image given an original image and a prompt.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="model"></param>
        /// <param name="image"></param>
        /// <param name="prompt"></param>
        /// <param name="mask"> (optional)</param>
        /// <param name="size"> (optional)</param>
        /// <param name="n"> (optional)</param>
        /// <param name="user"> (optional)</param>
        /// <param name="meta"> (optional)</param>
        /// <param name="usage"> (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateImageEditApiResponse"/>&gt;</returns>
        Task<ICreateImageEditApiResponse> CreateImageEditAsync(string model, string image, string prompt, Option<string> mask = default, Option<string> size = default, Option<int> n = default, Option<string> user = default, Option<bool> meta = default, Option<bool> usage = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Create image edit
        /// </summary>
        /// <remarks>
        /// Creates an edited or extended image given an original image and a prompt.
        /// </remarks>
        /// <param name="model"></param>
        /// <param name="image"></param>
        /// <param name="prompt"></param>
        /// <param name="mask"> (optional)</param>
        /// <param name="size"> (optional)</param>
        /// <param name="n"> (optional)</param>
        /// <param name="user"> (optional)</param>
        /// <param name="meta"> (optional)</param>
        /// <param name="usage"> (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateImageEditApiResponse"/>?&gt;</returns>
        Task<ICreateImageEditApiResponse?> CreateImageEditOrDefaultAsync(string model, string image, string prompt, Option<string> mask = default, Option<string> size = default, Option<int> n = default, Option<string> user = default, Option<bool> meta = default, Option<bool> usage = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Create moderation
        /// </summary>
        /// <remarks>
        /// Classifies if text violates OpenAI&#39;s usage policies.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="moderationsRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateModerationApiResponse"/>&gt;</returns>
        Task<ICreateModerationApiResponse> CreateModerationAsync(ModerationsRequest moderationsRequest, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Create moderation
        /// </summary>
        /// <remarks>
        /// Classifies if text violates OpenAI&#39;s usage policies.
        /// </remarks>
        /// <param name="moderationsRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateModerationApiResponse"/>?&gt;</returns>
        Task<ICreateModerationApiResponse?> CreateModerationOrDefaultAsync(ModerationsRequest moderationsRequest, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Create response
        /// </summary>
        /// <remarks>
        /// Creates a response using the Responses API.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="responsesRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateResponseApiResponse"/>&gt;</returns>
        Task<ICreateResponseApiResponse> CreateResponseAsync(ResponsesRequest responsesRequest, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Create response
        /// </summary>
        /// <remarks>
        /// Creates a response using the Responses API.
        /// </remarks>
        /// <param name="responsesRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateResponseApiResponse"/>?&gt;</returns>
        Task<ICreateResponseApiResponse?> CreateResponseOrDefaultAsync(ResponsesRequest responsesRequest, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Generate speech
        /// </summary>
        /// <remarks>
        /// Generates audio from the input text.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="audioSpeechRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateSpeechApiResponse"/>&gt;</returns>
        Task<ICreateSpeechApiResponse> CreateSpeechAsync(AudioSpeechRequest audioSpeechRequest, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Generate speech
        /// </summary>
        /// <remarks>
        /// Generates audio from the input text.
        /// </remarks>
        /// <param name="audioSpeechRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateSpeechApiResponse"/>?&gt;</returns>
        Task<ICreateSpeechApiResponse?> CreateSpeechOrDefaultAsync(AudioSpeechRequest audioSpeechRequest, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Create transcription
        /// </summary>
        /// <remarks>
        /// Transcribes audio into the input language.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="model"></param>
        /// <param name="audioUrl"> (optional)</param>
        /// <param name="audioB64"> (optional)</param>
        /// <param name="language"> (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateTranscriptionApiResponse"/>&gt;</returns>
        Task<ICreateTranscriptionApiResponse> CreateTranscriptionAsync(string model, Option<string> audioUrl = default, Option<string> audioB64 = default, Option<string> language = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Create transcription
        /// </summary>
        /// <remarks>
        /// Transcribes audio into the input language.
        /// </remarks>
        /// <param name="model"></param>
        /// <param name="audioUrl"> (optional)</param>
        /// <param name="audioB64"> (optional)</param>
        /// <param name="language"> (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateTranscriptionApiResponse"/>?&gt;</returns>
        Task<ICreateTranscriptionApiResponse?> CreateTranscriptionOrDefaultAsync(string model, Option<string> audioUrl = default, Option<string> audioB64 = default, Option<string> language = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Create translation
        /// </summary>
        /// <remarks>
        /// Translates audio into English.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="model"></param>
        /// <param name="audioUrl"> (optional)</param>
        /// <param name="audioB64"> (optional)</param>
        /// <param name="language"> (optional)</param>
        /// <param name="prompt"> (optional)</param>
        /// <param name="temperature"> (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateTranslationApiResponse"/>&gt;</returns>
        Task<ICreateTranslationApiResponse> CreateTranslationAsync(string model, Option<string> audioUrl = default, Option<string> audioB64 = default, Option<string> language = default, Option<string> prompt = default, Option<decimal> temperature = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Create translation
        /// </summary>
        /// <remarks>
        /// Translates audio into English.
        /// </remarks>
        /// <param name="model"></param>
        /// <param name="audioUrl"> (optional)</param>
        /// <param name="audioB64"> (optional)</param>
        /// <param name="language"> (optional)</param>
        /// <param name="prompt"> (optional)</param>
        /// <param name="temperature"> (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateTranslationApiResponse"/>?&gt;</returns>
        Task<ICreateTranslationApiResponse?> CreateTranslationOrDefaultAsync(string model, Option<string> audioUrl = default, Option<string> audioB64 = default, Option<string> language = default, Option<string> prompt = default, Option<decimal> temperature = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Create video
        /// </summary>
        /// <remarks>
        /// Creates a video from a prompt.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="videoGenerationRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateVideoApiResponse"/>&gt;</returns>
        Task<ICreateVideoApiResponse> CreateVideoAsync(VideoGenerationRequest videoGenerationRequest, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Create video
        /// </summary>
        /// <remarks>
        /// Creates a video from a prompt.
        /// </remarks>
        /// <param name="videoGenerationRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateVideoApiResponse"/>?&gt;</returns>
        Task<ICreateVideoApiResponse?> CreateVideoOrDefaultAsync(VideoGenerationRequest videoGenerationRequest, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Get analytics
        /// </summary>
        /// <remarks>
        /// Returns aggregated analytics data.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="getAnalyticsRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IGetAnalyticsApiResponse"/>&gt;</returns>
        Task<IGetAnalyticsApiResponse> GetAnalyticsAsync(GetAnalyticsRequest getAnalyticsRequest, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Get analytics
        /// </summary>
        /// <remarks>
        /// Returns aggregated analytics data.
        /// </remarks>
        /// <param name="getAnalyticsRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IGetAnalyticsApiResponse"/>?&gt;</returns>
        Task<IGetAnalyticsApiResponse?> GetAnalyticsOrDefaultAsync(GetAnalyticsRequest getAnalyticsRequest, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Get generation
        /// </summary>
        /// <remarks>
        /// Retrieve a specific generation by ID.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="id">The ID of the generation</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IGetGenerationApiResponse"/>&gt;</returns>
        Task<IGetGenerationApiResponse> GetGenerationAsync(string id, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Get generation
        /// </summary>
        /// <remarks>
        /// Retrieve a specific generation by ID.
        /// </remarks>
        /// <param name="id">The ID of the generation</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IGetGenerationApiResponse"/>?&gt;</returns>
        Task<IGetGenerationApiResponse?> GetGenerationOrDefaultAsync(string id, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Health check
        /// </summary>
        /// <remarks>
        /// Returns the health status of the API.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IHealthzApiResponse"/>&gt;</returns>
        Task<IHealthzApiResponse> HealthzAsync(System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Health check
        /// </summary>
        /// <remarks>
        /// Returns the health status of the API.
        /// </remarks>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IHealthzApiResponse"/>?&gt;</returns>
        Task<IHealthzApiResponse?> HealthzOrDefaultAsync(System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// List files
        /// </summary>
        /// <remarks>
        /// Returns a list of files that belong to the user&#39;s organization.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IListFilesApiResponse"/>&gt;</returns>
        Task<IListFilesApiResponse> ListFilesAsync(System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// List files
        /// </summary>
        /// <remarks>
        /// Returns a list of files that belong to the user&#39;s organization.
        /// </remarks>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IListFilesApiResponse"/>?&gt;</returns>
        Task<IListFilesApiResponse?> ListFilesOrDefaultAsync(System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// List models
        /// </summary>
        /// <remarks>
        /// Returns a list of available models.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="endpoints">Filter by endpoints (optional)</param>
        /// <param name="organisation">Filter by organisation (optional)</param>
        /// <param name="inputTypes">Filter by input types (optional)</param>
        /// <param name="outputTypes">Filter by output types (optional)</param>
        /// <param name="varParams">Filter by params (optional)</param>
        /// <param name="limit">Limit the number of results (optional, default to 50)</param>
        /// <param name="offset">Offset for pagination (optional, default to 0)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IListModelsApiResponse"/>&gt;</returns>
        Task<IListModelsApiResponse> ListModelsAsync(Option<List<string>> endpoints = default, Option<ListModelsOrganisationParameter> organisation = default, Option<List<string>> inputTypes = default, Option<List<string>> outputTypes = default, Option<List<string>> varParams = default, Option<int> limit = default, Option<int> offset = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// List models
        /// </summary>
        /// <remarks>
        /// Returns a list of available models.
        /// </remarks>
        /// <param name="endpoints">Filter by endpoints (optional)</param>
        /// <param name="organisation">Filter by organisation (optional)</param>
        /// <param name="inputTypes">Filter by input types (optional)</param>
        /// <param name="outputTypes">Filter by output types (optional)</param>
        /// <param name="varParams">Filter by params (optional)</param>
        /// <param name="limit">Limit the number of results (optional, default to 50)</param>
        /// <param name="offset">Offset for pagination (optional, default to 0)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IListModelsApiResponse"/>?&gt;</returns>
        Task<IListModelsApiResponse?> ListModelsOrDefaultAsync(Option<List<string>> endpoints = default, Option<ListModelsOrganisationParameter> organisation = default, Option<List<string>> inputTypes = default, Option<List<string>> outputTypes = default, Option<List<string>> varParams = default, Option<int> limit = default, Option<int> offset = default, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Retrieve batch
        /// </summary>
        /// <remarks>
        /// Retrieves a batch.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="batchId">The ID of the batch to retrieve.</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IRetrieveBatchApiResponse"/>&gt;</returns>
        Task<IRetrieveBatchApiResponse> RetrieveBatchAsync(string batchId, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Retrieve batch
        /// </summary>
        /// <remarks>
        /// Retrieves a batch.
        /// </remarks>
        /// <param name="batchId">The ID of the batch to retrieve.</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IRetrieveBatchApiResponse"/>?&gt;</returns>
        Task<IRetrieveBatchApiResponse?> RetrieveBatchOrDefaultAsync(string batchId, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Retrieve file
        /// </summary>
        /// <remarks>
        /// Returns information about a specific file.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="fileId">The ID of the file to retrieve.</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IRetrieveFileApiResponse"/>&gt;</returns>
        Task<IRetrieveFileApiResponse> RetrieveFileAsync(string fileId, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Retrieve file
        /// </summary>
        /// <remarks>
        /// Returns information about a specific file.
        /// </remarks>
        /// <param name="fileId">The ID of the file to retrieve.</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IRetrieveFileApiResponse"/>?&gt;</returns>
        Task<IRetrieveFileApiResponse?> RetrieveFileOrDefaultAsync(string fileId, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Root endpoint
        /// </summary>
        /// <remarks>
        /// Returns a welcome message.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IRootApiResponse"/>&gt;</returns>
        Task<IRootApiResponse> RootAsync(System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Root endpoint
        /// </summary>
        /// <remarks>
        /// Returns a welcome message.
        /// </remarks>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IRootApiResponse"/>?&gt;</returns>
        Task<IRootApiResponse?> RootOrDefaultAsync(System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Upload file
        /// </summary>
        /// <remarks>
        /// Upload a file that can be used across various endpoints.
        /// </remarks>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="file"></param>
        /// <param name="purpose"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IUploadFileApiResponse"/>&gt;</returns>
        Task<IUploadFileApiResponse> UploadFileAsync(System.IO.Stream file, string purpose, System.Threading.CancellationToken cancellationToken = default);

        /// <summary>
        /// Upload file
        /// </summary>
        /// <remarks>
        /// Upload a file that can be used across various endpoints.
        /// </remarks>
        /// <param name="file"></param>
        /// <param name="purpose"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IUploadFileApiResponse"/>?&gt;</returns>
        Task<IUploadFileApiResponse?> UploadFileOrDefaultAsync(System.IO.Stream file, string purpose, System.Threading.CancellationToken cancellationToken = default);
    }

    /// <summary>
    /// The <see cref="ICreateBatchApiResponse"/>
    /// </summary>
    public interface ICreateBatchApiResponse : AIStatsSdk.Client.IApiResponse, IOk<AIStatsSdk.Model.BatchResponse?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="ICreateChatCompletionApiResponse"/>
    /// </summary>
    public interface ICreateChatCompletionApiResponse : AIStatsSdk.Client.IApiResponse, IOk<AIStatsSdk.Model.ChatCompletionsResponse?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="ICreateEmbeddingApiResponse"/>
    /// </summary>
    public interface ICreateEmbeddingApiResponse : AIStatsSdk.Client.IApiResponse, IOk<AIStatsSdk.Model.EmbeddingsResponse?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="ICreateImageApiResponse"/>
    /// </summary>
    public interface ICreateImageApiResponse : AIStatsSdk.Client.IApiResponse, IOk<AIStatsSdk.Model.ImagesGenerationResponse?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="ICreateImageEditApiResponse"/>
    /// </summary>
    public interface ICreateImageEditApiResponse : AIStatsSdk.Client.IApiResponse, IOk<AIStatsSdk.Model.ImagesEditResponse?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="ICreateModerationApiResponse"/>
    /// </summary>
    public interface ICreateModerationApiResponse : AIStatsSdk.Client.IApiResponse, IOk<AIStatsSdk.Model.ModerationsResponse?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="ICreateResponseApiResponse"/>
    /// </summary>
    public interface ICreateResponseApiResponse : AIStatsSdk.Client.IApiResponse, IOk<AIStatsSdk.Model.ResponsesResponse?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="ICreateSpeechApiResponse"/>
    /// </summary>
    public interface ICreateSpeechApiResponse : AIStatsSdk.Client.IApiResponse, IOk<System.IO.Stream?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="ICreateTranscriptionApiResponse"/>
    /// </summary>
    public interface ICreateTranscriptionApiResponse : AIStatsSdk.Client.IApiResponse, IOk<AIStatsSdk.Model.AudioTranscriptionResponse?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="ICreateTranslationApiResponse"/>
    /// </summary>
    public interface ICreateTranslationApiResponse : AIStatsSdk.Client.IApiResponse, IOk<AIStatsSdk.Model.AudioTranslationResponse?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="ICreateVideoApiResponse"/>
    /// </summary>
    public interface ICreateVideoApiResponse : AIStatsSdk.Client.IApiResponse, IOk<AIStatsSdk.Model.VideoGenerationResponse?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="IGetAnalyticsApiResponse"/>
    /// </summary>
    public interface IGetAnalyticsApiResponse : AIStatsSdk.Client.IApiResponse, IOk<AIStatsSdk.Model.GetAnalytics200Response?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="IGetGenerationApiResponse"/>
    /// </summary>
    public interface IGetGenerationApiResponse : AIStatsSdk.Client.IApiResponse, IOk<AIStatsSdk.Model.GenerationResponse?>, IUnauthorized<AIStatsSdk.Model.GetGeneration401Response?>, INotFound<AIStatsSdk.Model.GetGeneration404Response?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }

        /// <summary>
        /// Returns true if the response is 401 Unauthorized
        /// </summary>
        /// <returns></returns>
        bool IsUnauthorized { get; }

        /// <summary>
        /// Returns true if the response is 404 NotFound
        /// </summary>
        /// <returns></returns>
        bool IsNotFound { get; }
    }

    /// <summary>
    /// The <see cref="IHealthzApiResponse"/>
    /// </summary>
    public interface IHealthzApiResponse : AIStatsSdk.Client.IApiResponse, IOk<AIStatsSdk.Model.Healthz200Response?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="IListFilesApiResponse"/>
    /// </summary>
    public interface IListFilesApiResponse : AIStatsSdk.Client.IApiResponse, IOk<AIStatsSdk.Model.ListFilesResponse?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="IListModelsApiResponse"/>
    /// </summary>
    public interface IListModelsApiResponse : AIStatsSdk.Client.IApiResponse, IOk<AIStatsSdk.Model.ListModels200Response?>, IInternalServerError<AIStatsSdk.Model.ListModels500Response?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }

        /// <summary>
        /// Returns true if the response is 500 InternalServerError
        /// </summary>
        /// <returns></returns>
        bool IsInternalServerError { get; }
    }

    /// <summary>
    /// The <see cref="IRetrieveBatchApiResponse"/>
    /// </summary>
    public interface IRetrieveBatchApiResponse : AIStatsSdk.Client.IApiResponse, IOk<AIStatsSdk.Model.BatchResponse?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="IRetrieveFileApiResponse"/>
    /// </summary>
    public interface IRetrieveFileApiResponse : AIStatsSdk.Client.IApiResponse, IOk<AIStatsSdk.Model.FileResponse?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="IRootApiResponse"/>
    /// </summary>
    public interface IRootApiResponse : AIStatsSdk.Client.IApiResponse, IOk<AIStatsSdk.Model.Root200Response?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// The <see cref="IUploadFileApiResponse"/>
    /// </summary>
    public interface IUploadFileApiResponse : AIStatsSdk.Client.IApiResponse, IOk<AIStatsSdk.Model.FileResponse?>
    {
        /// <summary>
        /// Returns true if the response is 200 Ok
        /// </summary>
        /// <returns></returns>
        bool IsOk { get; }
    }

    /// <summary>
    /// Represents a collection of functions to interact with the API endpoints
    /// </summary>
    public class DefaultApiEvents
    {
        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnCreateBatch;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorCreateBatch;

        internal void ExecuteOnCreateBatch(DefaultApi.CreateBatchApiResponse apiResponse)
        {
            OnCreateBatch?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorCreateBatch(Exception exception)
        {
            OnErrorCreateBatch?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnCreateChatCompletion;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorCreateChatCompletion;

        internal void ExecuteOnCreateChatCompletion(DefaultApi.CreateChatCompletionApiResponse apiResponse)
        {
            OnCreateChatCompletion?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorCreateChatCompletion(Exception exception)
        {
            OnErrorCreateChatCompletion?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnCreateEmbedding;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorCreateEmbedding;

        internal void ExecuteOnCreateEmbedding(DefaultApi.CreateEmbeddingApiResponse apiResponse)
        {
            OnCreateEmbedding?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorCreateEmbedding(Exception exception)
        {
            OnErrorCreateEmbedding?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnCreateImage;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorCreateImage;

        internal void ExecuteOnCreateImage(DefaultApi.CreateImageApiResponse apiResponse)
        {
            OnCreateImage?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorCreateImage(Exception exception)
        {
            OnErrorCreateImage?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnCreateImageEdit;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorCreateImageEdit;

        internal void ExecuteOnCreateImageEdit(DefaultApi.CreateImageEditApiResponse apiResponse)
        {
            OnCreateImageEdit?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorCreateImageEdit(Exception exception)
        {
            OnErrorCreateImageEdit?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnCreateModeration;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorCreateModeration;

        internal void ExecuteOnCreateModeration(DefaultApi.CreateModerationApiResponse apiResponse)
        {
            OnCreateModeration?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorCreateModeration(Exception exception)
        {
            OnErrorCreateModeration?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnCreateResponse;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorCreateResponse;

        internal void ExecuteOnCreateResponse(DefaultApi.CreateResponseApiResponse apiResponse)
        {
            OnCreateResponse?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorCreateResponse(Exception exception)
        {
            OnErrorCreateResponse?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnCreateSpeech;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorCreateSpeech;

        internal void ExecuteOnCreateSpeech(DefaultApi.CreateSpeechApiResponse apiResponse)
        {
            OnCreateSpeech?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorCreateSpeech(Exception exception)
        {
            OnErrorCreateSpeech?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnCreateTranscription;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorCreateTranscription;

        internal void ExecuteOnCreateTranscription(DefaultApi.CreateTranscriptionApiResponse apiResponse)
        {
            OnCreateTranscription?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorCreateTranscription(Exception exception)
        {
            OnErrorCreateTranscription?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnCreateTranslation;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorCreateTranslation;

        internal void ExecuteOnCreateTranslation(DefaultApi.CreateTranslationApiResponse apiResponse)
        {
            OnCreateTranslation?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorCreateTranslation(Exception exception)
        {
            OnErrorCreateTranslation?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnCreateVideo;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorCreateVideo;

        internal void ExecuteOnCreateVideo(DefaultApi.CreateVideoApiResponse apiResponse)
        {
            OnCreateVideo?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorCreateVideo(Exception exception)
        {
            OnErrorCreateVideo?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnGetAnalytics;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorGetAnalytics;

        internal void ExecuteOnGetAnalytics(DefaultApi.GetAnalyticsApiResponse apiResponse)
        {
            OnGetAnalytics?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorGetAnalytics(Exception exception)
        {
            OnErrorGetAnalytics?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnGetGeneration;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorGetGeneration;

        internal void ExecuteOnGetGeneration(DefaultApi.GetGenerationApiResponse apiResponse)
        {
            OnGetGeneration?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorGetGeneration(Exception exception)
        {
            OnErrorGetGeneration?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnHealthz;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorHealthz;

        internal void ExecuteOnHealthz(DefaultApi.HealthzApiResponse apiResponse)
        {
            OnHealthz?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorHealthz(Exception exception)
        {
            OnErrorHealthz?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnListFiles;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorListFiles;

        internal void ExecuteOnListFiles(DefaultApi.ListFilesApiResponse apiResponse)
        {
            OnListFiles?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorListFiles(Exception exception)
        {
            OnErrorListFiles?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnListModels;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorListModels;

        internal void ExecuteOnListModels(DefaultApi.ListModelsApiResponse apiResponse)
        {
            OnListModels?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorListModels(Exception exception)
        {
            OnErrorListModels?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnRetrieveBatch;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorRetrieveBatch;

        internal void ExecuteOnRetrieveBatch(DefaultApi.RetrieveBatchApiResponse apiResponse)
        {
            OnRetrieveBatch?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorRetrieveBatch(Exception exception)
        {
            OnErrorRetrieveBatch?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnRetrieveFile;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorRetrieveFile;

        internal void ExecuteOnRetrieveFile(DefaultApi.RetrieveFileApiResponse apiResponse)
        {
            OnRetrieveFile?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorRetrieveFile(Exception exception)
        {
            OnErrorRetrieveFile?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnRoot;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorRoot;

        internal void ExecuteOnRoot(DefaultApi.RootApiResponse apiResponse)
        {
            OnRoot?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorRoot(Exception exception)
        {
            OnErrorRoot?.Invoke(this, new ExceptionEventArgs(exception));
        }

        /// <summary>
        /// The event raised after the server response
        /// </summary>
        public event EventHandler<ApiResponseEventArgs>? OnUploadFile;

        /// <summary>
        /// The event raised after an error querying the server
        /// </summary>
        public event EventHandler<ExceptionEventArgs>? OnErrorUploadFile;

        internal void ExecuteOnUploadFile(DefaultApi.UploadFileApiResponse apiResponse)
        {
            OnUploadFile?.Invoke(this, new ApiResponseEventArgs(apiResponse));
        }

        internal void ExecuteOnErrorUploadFile(Exception exception)
        {
            OnErrorUploadFile?.Invoke(this, new ExceptionEventArgs(exception));
        }
    }

    /// <summary>
    /// Represents a collection of functions to interact with the API endpoints
    /// </summary>
    public sealed partial class DefaultApi : IDefaultApi
    {
        private JsonSerializerOptions _jsonSerializerOptions;

        /// <summary>
        /// The logger factory
        /// </summary>
        public ILoggerFactory LoggerFactory { get; }

        /// <summary>
        /// The logger
        /// </summary>
        public ILogger<DefaultApi> Logger { get; }

        /// <summary>
        /// The HttpClient
        /// </summary>
        public HttpClient HttpClient { get; }

        /// <summary>
        /// The class containing the events
        /// </summary>
        public DefaultApiEvents Events { get; }

        /// <summary>
        /// A token provider of type <see cref="BearerToken"/>
        /// </summary>
        public TokenProvider<BearerToken> BearerTokenProvider { get; }

        /// <summary>
        /// Initializes a new instance of the <see cref="DefaultApi"/> class.
        /// </summary>
        /// <returns></returns>
        public DefaultApi(ILogger<DefaultApi> logger, ILoggerFactory loggerFactory, HttpClient httpClient, JsonSerializerOptionsProvider jsonSerializerOptionsProvider, DefaultApiEvents defaultApiEvents,
            TokenProvider<BearerToken> bearerTokenProvider)
        {
            _jsonSerializerOptions = jsonSerializerOptionsProvider.Options;
            LoggerFactory = loggerFactory;
            Logger = LoggerFactory.CreateLogger<DefaultApi>();
            HttpClient = httpClient;
            Events = defaultApiEvents;
            BearerTokenProvider = bearerTokenProvider;
        }

        partial void FormatCreateBatch(BatchRequest batchRequest);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="batchRequest"></param>
        /// <returns></returns>
        private void ValidateCreateBatch(BatchRequest batchRequest)
        {
            if (batchRequest == null)
                throw new ArgumentNullException(nameof(batchRequest));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="batchRequest"></param>
        private void AfterCreateBatchDefaultImplementation(ICreateBatchApiResponse apiResponseLocalVar, BatchRequest batchRequest)
        {
            bool suppressDefaultLog = false;
            AfterCreateBatch(ref suppressDefaultLog, apiResponseLocalVar, batchRequest);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="batchRequest"></param>
        partial void AfterCreateBatch(ref bool suppressDefaultLog, ICreateBatchApiResponse apiResponseLocalVar, BatchRequest batchRequest);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="batchRequest"></param>
        private void OnErrorCreateBatchDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, BatchRequest batchRequest)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorCreateBatch(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, batchRequest);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="batchRequest"></param>
        partial void OnErrorCreateBatch(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, BatchRequest batchRequest);

        /// <summary>
        /// Create batch Creates a batch of API requests.
        /// </summary>
        /// <param name="batchRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateBatchApiResponse"/>&gt;</returns>
        public async Task<ICreateBatchApiResponse?> CreateBatchOrDefaultAsync(BatchRequest batchRequest, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await CreateBatchAsync(batchRequest, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Create batch Creates a batch of API requests.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="batchRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateBatchApiResponse"/>&gt;</returns>
        public async Task<ICreateBatchApiResponse> CreateBatchAsync(BatchRequest batchRequest, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateCreateBatch(batchRequest);

                FormatCreateBatch(batchRequest);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/batches"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/batches");

                    httpRequestMessageLocalVar.Content = (batchRequest as object) is System.IO.Stream stream
                        ? httpRequestMessageLocalVar.Content = new StreamContent(stream)
                        : httpRequestMessageLocalVar.Content = new StringContent(JsonSerializer.Serialize(batchRequest, _jsonSerializerOptions));

                    List<TokenBase> tokenBaseLocalVars = new List<TokenBase>();
                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    BearerToken bearerTokenLocalVar1 = (BearerToken) await BearerTokenProvider.GetAsync(cancellation: cancellationToken).ConfigureAwait(false);

                    tokenBaseLocalVars.Add(bearerTokenLocalVar1);

                    bearerTokenLocalVar1.UseInHeader(httpRequestMessageLocalVar, "");

                    string[] contentTypes = new string[] {
                        "application/json"
                    };

                    string? contentTypeLocalVar = ClientUtils.SelectHeaderContentType(contentTypes);

                    if (contentTypeLocalVar != null && httpRequestMessageLocalVar.Content != null)
                        httpRequestMessageLocalVar.Content.Headers.ContentType = new MediaTypeHeaderValue(contentTypeLocalVar);

                    string[] acceptLocalVars = new string[] {
                        "application/json"
                    };

                    string? acceptLocalVar = ClientUtils.SelectHeaderAccept(acceptLocalVars);

                    if (acceptLocalVar != null)
                        httpRequestMessageLocalVar.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(acceptLocalVar));

                    httpRequestMessageLocalVar.Method = HttpMethod.Post;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<CreateBatchApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<CreateBatchApiResponse>();
                        CreateBatchApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/batches", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterCreateBatchDefaultImplementation(apiResponseLocalVar, batchRequest);

                        Events.ExecuteOnCreateBatch(apiResponseLocalVar);

                        if (apiResponseLocalVar.StatusCode == (HttpStatusCode) 429)
                            foreach(TokenBase tokenBaseLocalVar in tokenBaseLocalVars)
                                tokenBaseLocalVar.BeginRateLimit();

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorCreateBatchDefaultImplementation(e, "/batches", uriBuilderLocalVar.Path, batchRequest);
                Events.ExecuteOnErrorCreateBatch(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="CreateBatchApiResponse"/>
        /// </summary>
        public partial class CreateBatchApiResponse : AIStatsSdk.Client.ApiResponse, ICreateBatchApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<CreateBatchApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="CreateBatchApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateBatchApiResponse(ILogger<CreateBatchApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="CreateBatchApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateBatchApiResponse(ILogger<CreateBatchApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public AIStatsSdk.Model.BatchResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<AIStatsSdk.Model.BatchResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out AIStatsSdk.Model.BatchResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatCreateChatCompletion(ChatCompletionsRequest chatCompletionsRequest);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="chatCompletionsRequest"></param>
        /// <returns></returns>
        private void ValidateCreateChatCompletion(ChatCompletionsRequest chatCompletionsRequest)
        {
            if (chatCompletionsRequest == null)
                throw new ArgumentNullException(nameof(chatCompletionsRequest));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="chatCompletionsRequest"></param>
        private void AfterCreateChatCompletionDefaultImplementation(ICreateChatCompletionApiResponse apiResponseLocalVar, ChatCompletionsRequest chatCompletionsRequest)
        {
            bool suppressDefaultLog = false;
            AfterCreateChatCompletion(ref suppressDefaultLog, apiResponseLocalVar, chatCompletionsRequest);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="chatCompletionsRequest"></param>
        partial void AfterCreateChatCompletion(ref bool suppressDefaultLog, ICreateChatCompletionApiResponse apiResponseLocalVar, ChatCompletionsRequest chatCompletionsRequest);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="chatCompletionsRequest"></param>
        private void OnErrorCreateChatCompletionDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, ChatCompletionsRequest chatCompletionsRequest)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorCreateChatCompletion(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, chatCompletionsRequest);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="chatCompletionsRequest"></param>
        partial void OnErrorCreateChatCompletion(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, ChatCompletionsRequest chatCompletionsRequest);

        /// <summary>
        /// Create chat completion Creates a completion for the chat message.
        /// </summary>
        /// <param name="chatCompletionsRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateChatCompletionApiResponse"/>&gt;</returns>
        public async Task<ICreateChatCompletionApiResponse?> CreateChatCompletionOrDefaultAsync(ChatCompletionsRequest chatCompletionsRequest, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await CreateChatCompletionAsync(chatCompletionsRequest, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Create chat completion Creates a completion for the chat message.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="chatCompletionsRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateChatCompletionApiResponse"/>&gt;</returns>
        public async Task<ICreateChatCompletionApiResponse> CreateChatCompletionAsync(ChatCompletionsRequest chatCompletionsRequest, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateCreateChatCompletion(chatCompletionsRequest);

                FormatCreateChatCompletion(chatCompletionsRequest);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/chat/completions"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/chat/completions");

                    httpRequestMessageLocalVar.Content = (chatCompletionsRequest as object) is System.IO.Stream stream
                        ? httpRequestMessageLocalVar.Content = new StreamContent(stream)
                        : httpRequestMessageLocalVar.Content = new StringContent(JsonSerializer.Serialize(chatCompletionsRequest, _jsonSerializerOptions));

                    List<TokenBase> tokenBaseLocalVars = new List<TokenBase>();
                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    BearerToken bearerTokenLocalVar1 = (BearerToken) await BearerTokenProvider.GetAsync(cancellation: cancellationToken).ConfigureAwait(false);

                    tokenBaseLocalVars.Add(bearerTokenLocalVar1);

                    bearerTokenLocalVar1.UseInHeader(httpRequestMessageLocalVar, "");

                    string[] contentTypes = new string[] {
                        "application/json"
                    };

                    string? contentTypeLocalVar = ClientUtils.SelectHeaderContentType(contentTypes);

                    if (contentTypeLocalVar != null && httpRequestMessageLocalVar.Content != null)
                        httpRequestMessageLocalVar.Content.Headers.ContentType = new MediaTypeHeaderValue(contentTypeLocalVar);

                    string[] acceptLocalVars = new string[] {
                        "application/json"
                    };

                    string? acceptLocalVar = ClientUtils.SelectHeaderAccept(acceptLocalVars);

                    if (acceptLocalVar != null)
                        httpRequestMessageLocalVar.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(acceptLocalVar));

                    httpRequestMessageLocalVar.Method = HttpMethod.Post;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<CreateChatCompletionApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<CreateChatCompletionApiResponse>();
                        CreateChatCompletionApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/chat/completions", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterCreateChatCompletionDefaultImplementation(apiResponseLocalVar, chatCompletionsRequest);

                        Events.ExecuteOnCreateChatCompletion(apiResponseLocalVar);

                        if (apiResponseLocalVar.StatusCode == (HttpStatusCode) 429)
                            foreach(TokenBase tokenBaseLocalVar in tokenBaseLocalVars)
                                tokenBaseLocalVar.BeginRateLimit();

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorCreateChatCompletionDefaultImplementation(e, "/chat/completions", uriBuilderLocalVar.Path, chatCompletionsRequest);
                Events.ExecuteOnErrorCreateChatCompletion(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="CreateChatCompletionApiResponse"/>
        /// </summary>
        public partial class CreateChatCompletionApiResponse : AIStatsSdk.Client.ApiResponse, ICreateChatCompletionApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<CreateChatCompletionApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="CreateChatCompletionApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateChatCompletionApiResponse(ILogger<CreateChatCompletionApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="CreateChatCompletionApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateChatCompletionApiResponse(ILogger<CreateChatCompletionApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public AIStatsSdk.Model.ChatCompletionsResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<AIStatsSdk.Model.ChatCompletionsResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out AIStatsSdk.Model.ChatCompletionsResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatCreateEmbedding(EmbeddingsRequest embeddingsRequest);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="embeddingsRequest"></param>
        /// <returns></returns>
        private void ValidateCreateEmbedding(EmbeddingsRequest embeddingsRequest)
        {
            if (embeddingsRequest == null)
                throw new ArgumentNullException(nameof(embeddingsRequest));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="embeddingsRequest"></param>
        private void AfterCreateEmbeddingDefaultImplementation(ICreateEmbeddingApiResponse apiResponseLocalVar, EmbeddingsRequest embeddingsRequest)
        {
            bool suppressDefaultLog = false;
            AfterCreateEmbedding(ref suppressDefaultLog, apiResponseLocalVar, embeddingsRequest);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="embeddingsRequest"></param>
        partial void AfterCreateEmbedding(ref bool suppressDefaultLog, ICreateEmbeddingApiResponse apiResponseLocalVar, EmbeddingsRequest embeddingsRequest);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="embeddingsRequest"></param>
        private void OnErrorCreateEmbeddingDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, EmbeddingsRequest embeddingsRequest)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorCreateEmbedding(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, embeddingsRequest);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="embeddingsRequest"></param>
        partial void OnErrorCreateEmbedding(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, EmbeddingsRequest embeddingsRequest);

        /// <summary>
        /// Create embeddings Creates an embedding vector representing the input text.
        /// </summary>
        /// <param name="embeddingsRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateEmbeddingApiResponse"/>&gt;</returns>
        public async Task<ICreateEmbeddingApiResponse?> CreateEmbeddingOrDefaultAsync(EmbeddingsRequest embeddingsRequest, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await CreateEmbeddingAsync(embeddingsRequest, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Create embeddings Creates an embedding vector representing the input text.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="embeddingsRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateEmbeddingApiResponse"/>&gt;</returns>
        public async Task<ICreateEmbeddingApiResponse> CreateEmbeddingAsync(EmbeddingsRequest embeddingsRequest, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateCreateEmbedding(embeddingsRequest);

                FormatCreateEmbedding(embeddingsRequest);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/embeddings"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/embeddings");

                    httpRequestMessageLocalVar.Content = (embeddingsRequest as object) is System.IO.Stream stream
                        ? httpRequestMessageLocalVar.Content = new StreamContent(stream)
                        : httpRequestMessageLocalVar.Content = new StringContent(JsonSerializer.Serialize(embeddingsRequest, _jsonSerializerOptions));

                    List<TokenBase> tokenBaseLocalVars = new List<TokenBase>();
                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    BearerToken bearerTokenLocalVar1 = (BearerToken) await BearerTokenProvider.GetAsync(cancellation: cancellationToken).ConfigureAwait(false);

                    tokenBaseLocalVars.Add(bearerTokenLocalVar1);

                    bearerTokenLocalVar1.UseInHeader(httpRequestMessageLocalVar, "");

                    string[] contentTypes = new string[] {
                        "application/json"
                    };

                    string? contentTypeLocalVar = ClientUtils.SelectHeaderContentType(contentTypes);

                    if (contentTypeLocalVar != null && httpRequestMessageLocalVar.Content != null)
                        httpRequestMessageLocalVar.Content.Headers.ContentType = new MediaTypeHeaderValue(contentTypeLocalVar);

                    string[] acceptLocalVars = new string[] {
                        "application/json"
                    };

                    string? acceptLocalVar = ClientUtils.SelectHeaderAccept(acceptLocalVars);

                    if (acceptLocalVar != null)
                        httpRequestMessageLocalVar.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(acceptLocalVar));

                    httpRequestMessageLocalVar.Method = HttpMethod.Post;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<CreateEmbeddingApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<CreateEmbeddingApiResponse>();
                        CreateEmbeddingApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/embeddings", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterCreateEmbeddingDefaultImplementation(apiResponseLocalVar, embeddingsRequest);

                        Events.ExecuteOnCreateEmbedding(apiResponseLocalVar);

                        if (apiResponseLocalVar.StatusCode == (HttpStatusCode) 429)
                            foreach(TokenBase tokenBaseLocalVar in tokenBaseLocalVars)
                                tokenBaseLocalVar.BeginRateLimit();

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorCreateEmbeddingDefaultImplementation(e, "/embeddings", uriBuilderLocalVar.Path, embeddingsRequest);
                Events.ExecuteOnErrorCreateEmbedding(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="CreateEmbeddingApiResponse"/>
        /// </summary>
        public partial class CreateEmbeddingApiResponse : AIStatsSdk.Client.ApiResponse, ICreateEmbeddingApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<CreateEmbeddingApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="CreateEmbeddingApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateEmbeddingApiResponse(ILogger<CreateEmbeddingApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="CreateEmbeddingApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateEmbeddingApiResponse(ILogger<CreateEmbeddingApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public AIStatsSdk.Model.EmbeddingsResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<AIStatsSdk.Model.EmbeddingsResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out AIStatsSdk.Model.EmbeddingsResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatCreateImage(ImagesGenerationRequest imagesGenerationRequest);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="imagesGenerationRequest"></param>
        /// <returns></returns>
        private void ValidateCreateImage(ImagesGenerationRequest imagesGenerationRequest)
        {
            if (imagesGenerationRequest == null)
                throw new ArgumentNullException(nameof(imagesGenerationRequest));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="imagesGenerationRequest"></param>
        private void AfterCreateImageDefaultImplementation(ICreateImageApiResponse apiResponseLocalVar, ImagesGenerationRequest imagesGenerationRequest)
        {
            bool suppressDefaultLog = false;
            AfterCreateImage(ref suppressDefaultLog, apiResponseLocalVar, imagesGenerationRequest);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="imagesGenerationRequest"></param>
        partial void AfterCreateImage(ref bool suppressDefaultLog, ICreateImageApiResponse apiResponseLocalVar, ImagesGenerationRequest imagesGenerationRequest);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="imagesGenerationRequest"></param>
        private void OnErrorCreateImageDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, ImagesGenerationRequest imagesGenerationRequest)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorCreateImage(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, imagesGenerationRequest);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="imagesGenerationRequest"></param>
        partial void OnErrorCreateImage(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, ImagesGenerationRequest imagesGenerationRequest);

        /// <summary>
        /// Create image Creates an image given a prompt.
        /// </summary>
        /// <param name="imagesGenerationRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateImageApiResponse"/>&gt;</returns>
        public async Task<ICreateImageApiResponse?> CreateImageOrDefaultAsync(ImagesGenerationRequest imagesGenerationRequest, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await CreateImageAsync(imagesGenerationRequest, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Create image Creates an image given a prompt.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="imagesGenerationRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateImageApiResponse"/>&gt;</returns>
        public async Task<ICreateImageApiResponse> CreateImageAsync(ImagesGenerationRequest imagesGenerationRequest, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateCreateImage(imagesGenerationRequest);

                FormatCreateImage(imagesGenerationRequest);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/images/generations"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/images/generations");

                    httpRequestMessageLocalVar.Content = (imagesGenerationRequest as object) is System.IO.Stream stream
                        ? httpRequestMessageLocalVar.Content = new StreamContent(stream)
                        : httpRequestMessageLocalVar.Content = new StringContent(JsonSerializer.Serialize(imagesGenerationRequest, _jsonSerializerOptions));

                    List<TokenBase> tokenBaseLocalVars = new List<TokenBase>();
                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    BearerToken bearerTokenLocalVar1 = (BearerToken) await BearerTokenProvider.GetAsync(cancellation: cancellationToken).ConfigureAwait(false);

                    tokenBaseLocalVars.Add(bearerTokenLocalVar1);

                    bearerTokenLocalVar1.UseInHeader(httpRequestMessageLocalVar, "");

                    string[] contentTypes = new string[] {
                        "application/json"
                    };

                    string? contentTypeLocalVar = ClientUtils.SelectHeaderContentType(contentTypes);

                    if (contentTypeLocalVar != null && httpRequestMessageLocalVar.Content != null)
                        httpRequestMessageLocalVar.Content.Headers.ContentType = new MediaTypeHeaderValue(contentTypeLocalVar);

                    string[] acceptLocalVars = new string[] {
                        "application/json"
                    };

                    string? acceptLocalVar = ClientUtils.SelectHeaderAccept(acceptLocalVars);

                    if (acceptLocalVar != null)
                        httpRequestMessageLocalVar.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(acceptLocalVar));

                    httpRequestMessageLocalVar.Method = HttpMethod.Post;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<CreateImageApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<CreateImageApiResponse>();
                        CreateImageApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/images/generations", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterCreateImageDefaultImplementation(apiResponseLocalVar, imagesGenerationRequest);

                        Events.ExecuteOnCreateImage(apiResponseLocalVar);

                        if (apiResponseLocalVar.StatusCode == (HttpStatusCode) 429)
                            foreach(TokenBase tokenBaseLocalVar in tokenBaseLocalVars)
                                tokenBaseLocalVar.BeginRateLimit();

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorCreateImageDefaultImplementation(e, "/images/generations", uriBuilderLocalVar.Path, imagesGenerationRequest);
                Events.ExecuteOnErrorCreateImage(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="CreateImageApiResponse"/>
        /// </summary>
        public partial class CreateImageApiResponse : AIStatsSdk.Client.ApiResponse, ICreateImageApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<CreateImageApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="CreateImageApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateImageApiResponse(ILogger<CreateImageApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="CreateImageApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateImageApiResponse(ILogger<CreateImageApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public AIStatsSdk.Model.ImagesGenerationResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<AIStatsSdk.Model.ImagesGenerationResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out AIStatsSdk.Model.ImagesGenerationResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatCreateImageEdit(ref string model, ref string image, ref string prompt, ref Option<string> mask, ref Option<string> size, ref Option<int> n, ref Option<string> user, ref Option<bool> meta, ref Option<bool> usage);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="model"></param>
        /// <param name="image"></param>
        /// <param name="prompt"></param>
        /// <param name="mask"></param>
        /// <param name="size"></param>
        /// <param name="user"></param>
        /// <returns></returns>
        private void ValidateCreateImageEdit(string model, string image, string prompt, Option<string> mask, Option<string> size, Option<string> user)
        {
            if (model == null)
                throw new ArgumentNullException(nameof(model));

            if (image == null)
                throw new ArgumentNullException(nameof(image));

            if (prompt == null)
                throw new ArgumentNullException(nameof(prompt));

            if (mask.IsSet && mask.Value == null)
                throw new ArgumentNullException(nameof(mask));

            if (size.IsSet && size.Value == null)
                throw new ArgumentNullException(nameof(size));

            if (user.IsSet && user.Value == null)
                throw new ArgumentNullException(nameof(user));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="model"></param>
        /// <param name="image"></param>
        /// <param name="prompt"></param>
        /// <param name="mask"></param>
        /// <param name="size"></param>
        /// <param name="n"></param>
        /// <param name="user"></param>
        /// <param name="meta"></param>
        /// <param name="usage"></param>
        private void AfterCreateImageEditDefaultImplementation(ICreateImageEditApiResponse apiResponseLocalVar, string model, string image, string prompt, Option<string> mask, Option<string> size, Option<int> n, Option<string> user, Option<bool> meta, Option<bool> usage)
        {
            bool suppressDefaultLog = false;
            AfterCreateImageEdit(ref suppressDefaultLog, apiResponseLocalVar, model, image, prompt, mask, size, n, user, meta, usage);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="model"></param>
        /// <param name="image"></param>
        /// <param name="prompt"></param>
        /// <param name="mask"></param>
        /// <param name="size"></param>
        /// <param name="n"></param>
        /// <param name="user"></param>
        /// <param name="meta"></param>
        /// <param name="usage"></param>
        partial void AfterCreateImageEdit(ref bool suppressDefaultLog, ICreateImageEditApiResponse apiResponseLocalVar, string model, string image, string prompt, Option<string> mask, Option<string> size, Option<int> n, Option<string> user, Option<bool> meta, Option<bool> usage);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="model"></param>
        /// <param name="image"></param>
        /// <param name="prompt"></param>
        /// <param name="mask"></param>
        /// <param name="size"></param>
        /// <param name="n"></param>
        /// <param name="user"></param>
        /// <param name="meta"></param>
        /// <param name="usage"></param>
        private void OnErrorCreateImageEditDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, string model, string image, string prompt, Option<string> mask, Option<string> size, Option<int> n, Option<string> user, Option<bool> meta, Option<bool> usage)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorCreateImageEdit(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, model, image, prompt, mask, size, n, user, meta, usage);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="model"></param>
        /// <param name="image"></param>
        /// <param name="prompt"></param>
        /// <param name="mask"></param>
        /// <param name="size"></param>
        /// <param name="n"></param>
        /// <param name="user"></param>
        /// <param name="meta"></param>
        /// <param name="usage"></param>
        partial void OnErrorCreateImageEdit(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, string model, string image, string prompt, Option<string> mask, Option<string> size, Option<int> n, Option<string> user, Option<bool> meta, Option<bool> usage);

        /// <summary>
        /// Create image edit Creates an edited or extended image given an original image and a prompt.
        /// </summary>
        /// <param name="model"></param>
        /// <param name="image"></param>
        /// <param name="prompt"></param>
        /// <param name="mask"> (optional)</param>
        /// <param name="size"> (optional)</param>
        /// <param name="n"> (optional)</param>
        /// <param name="user"> (optional)</param>
        /// <param name="meta"> (optional)</param>
        /// <param name="usage"> (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateImageEditApiResponse"/>&gt;</returns>
        public async Task<ICreateImageEditApiResponse?> CreateImageEditOrDefaultAsync(string model, string image, string prompt, Option<string> mask = default, Option<string> size = default, Option<int> n = default, Option<string> user = default, Option<bool> meta = default, Option<bool> usage = default, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await CreateImageEditAsync(model, image, prompt, mask, size, n, user, meta, usage, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Create image edit Creates an edited or extended image given an original image and a prompt.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="model"></param>
        /// <param name="image"></param>
        /// <param name="prompt"></param>
        /// <param name="mask"> (optional)</param>
        /// <param name="size"> (optional)</param>
        /// <param name="n"> (optional)</param>
        /// <param name="user"> (optional)</param>
        /// <param name="meta"> (optional)</param>
        /// <param name="usage"> (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateImageEditApiResponse"/>&gt;</returns>
        public async Task<ICreateImageEditApiResponse> CreateImageEditAsync(string model, string image, string prompt, Option<string> mask = default, Option<string> size = default, Option<int> n = default, Option<string> user = default, Option<bool> meta = default, Option<bool> usage = default, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateCreateImageEdit(model, image, prompt, mask, size, user);

                FormatCreateImageEdit(ref model, ref image, ref prompt, ref mask, ref size, ref n, ref user, ref meta, ref usage);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/images/edits"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/images/edits");

                    MultipartContent multipartContentLocalVar = new MultipartContent();

                    httpRequestMessageLocalVar.Content = multipartContentLocalVar;

                    List<KeyValuePair<string?, string?>> formParameterLocalVars = new List<KeyValuePair<string?, string?>>();

                    multipartContentLocalVar.Add(new FormUrlEncodedContent(formParameterLocalVars));

                    formParameterLocalVars.Add(new KeyValuePair<string?, string?>("model", ClientUtils.ParameterToString(model)));

                    formParameterLocalVars.Add(new KeyValuePair<string?, string?>("image", ClientUtils.ParameterToString(image)));

                    formParameterLocalVars.Add(new KeyValuePair<string?, string?>("prompt", ClientUtils.ParameterToString(prompt)));

                    if (mask.IsSet)
                        formParameterLocalVars.Add(new KeyValuePair<string?, string?>("mask", ClientUtils.ParameterToString(mask.Value)));

                    if (size.IsSet)
                        formParameterLocalVars.Add(new KeyValuePair<string?, string?>("size", ClientUtils.ParameterToString(size.Value)));

                    if (n.IsSet)
                        formParameterLocalVars.Add(new KeyValuePair<string?, string?>("n", ClientUtils.ParameterToString(n.Value)));

                    if (user.IsSet)
                        formParameterLocalVars.Add(new KeyValuePair<string?, string?>("user", ClientUtils.ParameterToString(user.Value)));

                    if (meta.IsSet)
                        formParameterLocalVars.Add(new KeyValuePair<string?, string?>("meta", ClientUtils.ParameterToString(meta.Value)));

                    if (usage.IsSet)
                        formParameterLocalVars.Add(new KeyValuePair<string?, string?>("usage", ClientUtils.ParameterToString(usage.Value)));

                    List<TokenBase> tokenBaseLocalVars = new List<TokenBase>();
                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    BearerToken bearerTokenLocalVar1 = (BearerToken) await BearerTokenProvider.GetAsync(cancellation: cancellationToken).ConfigureAwait(false);

                    tokenBaseLocalVars.Add(bearerTokenLocalVar1);

                    bearerTokenLocalVar1.UseInHeader(httpRequestMessageLocalVar, "");

                    string[] contentTypes = new string[] {
                        "multipart/form-data"
                    };

                    string? contentTypeLocalVar = ClientUtils.SelectHeaderContentType(contentTypes);

                    if (contentTypeLocalVar != null && httpRequestMessageLocalVar.Content != null)
                        httpRequestMessageLocalVar.Content.Headers.ContentType = new MediaTypeHeaderValue(contentTypeLocalVar);

                    string[] acceptLocalVars = new string[] {
                        "application/json"
                    };

                    string? acceptLocalVar = ClientUtils.SelectHeaderAccept(acceptLocalVars);

                    if (acceptLocalVar != null)
                        httpRequestMessageLocalVar.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(acceptLocalVar));

                    httpRequestMessageLocalVar.Method = HttpMethod.Post;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<CreateImageEditApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<CreateImageEditApiResponse>();
                        CreateImageEditApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/images/edits", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterCreateImageEditDefaultImplementation(apiResponseLocalVar, model, image, prompt, mask, size, n, user, meta, usage);

                        Events.ExecuteOnCreateImageEdit(apiResponseLocalVar);

                        if (apiResponseLocalVar.StatusCode == (HttpStatusCode) 429)
                            foreach(TokenBase tokenBaseLocalVar in tokenBaseLocalVars)
                                tokenBaseLocalVar.BeginRateLimit();

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorCreateImageEditDefaultImplementation(e, "/images/edits", uriBuilderLocalVar.Path, model, image, prompt, mask, size, n, user, meta, usage);
                Events.ExecuteOnErrorCreateImageEdit(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="CreateImageEditApiResponse"/>
        /// </summary>
        public partial class CreateImageEditApiResponse : AIStatsSdk.Client.ApiResponse, ICreateImageEditApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<CreateImageEditApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="CreateImageEditApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateImageEditApiResponse(ILogger<CreateImageEditApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="CreateImageEditApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateImageEditApiResponse(ILogger<CreateImageEditApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public AIStatsSdk.Model.ImagesEditResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<AIStatsSdk.Model.ImagesEditResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out AIStatsSdk.Model.ImagesEditResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatCreateModeration(ModerationsRequest moderationsRequest);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="moderationsRequest"></param>
        /// <returns></returns>
        private void ValidateCreateModeration(ModerationsRequest moderationsRequest)
        {
            if (moderationsRequest == null)
                throw new ArgumentNullException(nameof(moderationsRequest));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="moderationsRequest"></param>
        private void AfterCreateModerationDefaultImplementation(ICreateModerationApiResponse apiResponseLocalVar, ModerationsRequest moderationsRequest)
        {
            bool suppressDefaultLog = false;
            AfterCreateModeration(ref suppressDefaultLog, apiResponseLocalVar, moderationsRequest);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="moderationsRequest"></param>
        partial void AfterCreateModeration(ref bool suppressDefaultLog, ICreateModerationApiResponse apiResponseLocalVar, ModerationsRequest moderationsRequest);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="moderationsRequest"></param>
        private void OnErrorCreateModerationDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, ModerationsRequest moderationsRequest)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorCreateModeration(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, moderationsRequest);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="moderationsRequest"></param>
        partial void OnErrorCreateModeration(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, ModerationsRequest moderationsRequest);

        /// <summary>
        /// Create moderation Classifies if text violates OpenAI&#39;s usage policies.
        /// </summary>
        /// <param name="moderationsRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateModerationApiResponse"/>&gt;</returns>
        public async Task<ICreateModerationApiResponse?> CreateModerationOrDefaultAsync(ModerationsRequest moderationsRequest, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await CreateModerationAsync(moderationsRequest, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Create moderation Classifies if text violates OpenAI&#39;s usage policies.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="moderationsRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateModerationApiResponse"/>&gt;</returns>
        public async Task<ICreateModerationApiResponse> CreateModerationAsync(ModerationsRequest moderationsRequest, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateCreateModeration(moderationsRequest);

                FormatCreateModeration(moderationsRequest);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/moderations"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/moderations");

                    httpRequestMessageLocalVar.Content = (moderationsRequest as object) is System.IO.Stream stream
                        ? httpRequestMessageLocalVar.Content = new StreamContent(stream)
                        : httpRequestMessageLocalVar.Content = new StringContent(JsonSerializer.Serialize(moderationsRequest, _jsonSerializerOptions));

                    List<TokenBase> tokenBaseLocalVars = new List<TokenBase>();
                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    BearerToken bearerTokenLocalVar1 = (BearerToken) await BearerTokenProvider.GetAsync(cancellation: cancellationToken).ConfigureAwait(false);

                    tokenBaseLocalVars.Add(bearerTokenLocalVar1);

                    bearerTokenLocalVar1.UseInHeader(httpRequestMessageLocalVar, "");

                    string[] contentTypes = new string[] {
                        "application/json"
                    };

                    string? contentTypeLocalVar = ClientUtils.SelectHeaderContentType(contentTypes);

                    if (contentTypeLocalVar != null && httpRequestMessageLocalVar.Content != null)
                        httpRequestMessageLocalVar.Content.Headers.ContentType = new MediaTypeHeaderValue(contentTypeLocalVar);

                    string[] acceptLocalVars = new string[] {
                        "application/json"
                    };

                    string? acceptLocalVar = ClientUtils.SelectHeaderAccept(acceptLocalVars);

                    if (acceptLocalVar != null)
                        httpRequestMessageLocalVar.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(acceptLocalVar));

                    httpRequestMessageLocalVar.Method = HttpMethod.Post;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<CreateModerationApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<CreateModerationApiResponse>();
                        CreateModerationApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/moderations", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterCreateModerationDefaultImplementation(apiResponseLocalVar, moderationsRequest);

                        Events.ExecuteOnCreateModeration(apiResponseLocalVar);

                        if (apiResponseLocalVar.StatusCode == (HttpStatusCode) 429)
                            foreach(TokenBase tokenBaseLocalVar in tokenBaseLocalVars)
                                tokenBaseLocalVar.BeginRateLimit();

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorCreateModerationDefaultImplementation(e, "/moderations", uriBuilderLocalVar.Path, moderationsRequest);
                Events.ExecuteOnErrorCreateModeration(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="CreateModerationApiResponse"/>
        /// </summary>
        public partial class CreateModerationApiResponse : AIStatsSdk.Client.ApiResponse, ICreateModerationApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<CreateModerationApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="CreateModerationApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateModerationApiResponse(ILogger<CreateModerationApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="CreateModerationApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateModerationApiResponse(ILogger<CreateModerationApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public AIStatsSdk.Model.ModerationsResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<AIStatsSdk.Model.ModerationsResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out AIStatsSdk.Model.ModerationsResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatCreateResponse(ResponsesRequest responsesRequest);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="responsesRequest"></param>
        /// <returns></returns>
        private void ValidateCreateResponse(ResponsesRequest responsesRequest)
        {
            if (responsesRequest == null)
                throw new ArgumentNullException(nameof(responsesRequest));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="responsesRequest"></param>
        private void AfterCreateResponseDefaultImplementation(ICreateResponseApiResponse apiResponseLocalVar, ResponsesRequest responsesRequest)
        {
            bool suppressDefaultLog = false;
            AfterCreateResponse(ref suppressDefaultLog, apiResponseLocalVar, responsesRequest);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="responsesRequest"></param>
        partial void AfterCreateResponse(ref bool suppressDefaultLog, ICreateResponseApiResponse apiResponseLocalVar, ResponsesRequest responsesRequest);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="responsesRequest"></param>
        private void OnErrorCreateResponseDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, ResponsesRequest responsesRequest)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorCreateResponse(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, responsesRequest);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="responsesRequest"></param>
        partial void OnErrorCreateResponse(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, ResponsesRequest responsesRequest);

        /// <summary>
        /// Create response Creates a response using the Responses API.
        /// </summary>
        /// <param name="responsesRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateResponseApiResponse"/>&gt;</returns>
        public async Task<ICreateResponseApiResponse?> CreateResponseOrDefaultAsync(ResponsesRequest responsesRequest, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await CreateResponseAsync(responsesRequest, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Create response Creates a response using the Responses API.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="responsesRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateResponseApiResponse"/>&gt;</returns>
        public async Task<ICreateResponseApiResponse> CreateResponseAsync(ResponsesRequest responsesRequest, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateCreateResponse(responsesRequest);

                FormatCreateResponse(responsesRequest);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/responses"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/responses");

                    httpRequestMessageLocalVar.Content = (responsesRequest as object) is System.IO.Stream stream
                        ? httpRequestMessageLocalVar.Content = new StreamContent(stream)
                        : httpRequestMessageLocalVar.Content = new StringContent(JsonSerializer.Serialize(responsesRequest, _jsonSerializerOptions));

                    List<TokenBase> tokenBaseLocalVars = new List<TokenBase>();
                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    BearerToken bearerTokenLocalVar1 = (BearerToken) await BearerTokenProvider.GetAsync(cancellation: cancellationToken).ConfigureAwait(false);

                    tokenBaseLocalVars.Add(bearerTokenLocalVar1);

                    bearerTokenLocalVar1.UseInHeader(httpRequestMessageLocalVar, "");

                    string[] contentTypes = new string[] {
                        "application/json"
                    };

                    string? contentTypeLocalVar = ClientUtils.SelectHeaderContentType(contentTypes);

                    if (contentTypeLocalVar != null && httpRequestMessageLocalVar.Content != null)
                        httpRequestMessageLocalVar.Content.Headers.ContentType = new MediaTypeHeaderValue(contentTypeLocalVar);

                    string[] acceptLocalVars = new string[] {
                        "application/json"
                    };

                    string? acceptLocalVar = ClientUtils.SelectHeaderAccept(acceptLocalVars);

                    if (acceptLocalVar != null)
                        httpRequestMessageLocalVar.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(acceptLocalVar));

                    httpRequestMessageLocalVar.Method = HttpMethod.Post;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<CreateResponseApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<CreateResponseApiResponse>();
                        CreateResponseApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/responses", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterCreateResponseDefaultImplementation(apiResponseLocalVar, responsesRequest);

                        Events.ExecuteOnCreateResponse(apiResponseLocalVar);

                        if (apiResponseLocalVar.StatusCode == (HttpStatusCode) 429)
                            foreach(TokenBase tokenBaseLocalVar in tokenBaseLocalVars)
                                tokenBaseLocalVar.BeginRateLimit();

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorCreateResponseDefaultImplementation(e, "/responses", uriBuilderLocalVar.Path, responsesRequest);
                Events.ExecuteOnErrorCreateResponse(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="CreateResponseApiResponse"/>
        /// </summary>
        public partial class CreateResponseApiResponse : AIStatsSdk.Client.ApiResponse, ICreateResponseApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<CreateResponseApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="CreateResponseApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateResponseApiResponse(ILogger<CreateResponseApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="CreateResponseApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateResponseApiResponse(ILogger<CreateResponseApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public AIStatsSdk.Model.ResponsesResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<AIStatsSdk.Model.ResponsesResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out AIStatsSdk.Model.ResponsesResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatCreateSpeech(AudioSpeechRequest audioSpeechRequest);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="audioSpeechRequest"></param>
        /// <returns></returns>
        private void ValidateCreateSpeech(AudioSpeechRequest audioSpeechRequest)
        {
            if (audioSpeechRequest == null)
                throw new ArgumentNullException(nameof(audioSpeechRequest));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="audioSpeechRequest"></param>
        private void AfterCreateSpeechDefaultImplementation(ICreateSpeechApiResponse apiResponseLocalVar, AudioSpeechRequest audioSpeechRequest)
        {
            bool suppressDefaultLog = false;
            AfterCreateSpeech(ref suppressDefaultLog, apiResponseLocalVar, audioSpeechRequest);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="audioSpeechRequest"></param>
        partial void AfterCreateSpeech(ref bool suppressDefaultLog, ICreateSpeechApiResponse apiResponseLocalVar, AudioSpeechRequest audioSpeechRequest);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="audioSpeechRequest"></param>
        private void OnErrorCreateSpeechDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, AudioSpeechRequest audioSpeechRequest)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorCreateSpeech(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, audioSpeechRequest);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="audioSpeechRequest"></param>
        partial void OnErrorCreateSpeech(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, AudioSpeechRequest audioSpeechRequest);

        /// <summary>
        /// Generate speech Generates audio from the input text.
        /// </summary>
        /// <param name="audioSpeechRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateSpeechApiResponse"/>&gt;</returns>
        public async Task<ICreateSpeechApiResponse?> CreateSpeechOrDefaultAsync(AudioSpeechRequest audioSpeechRequest, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await CreateSpeechAsync(audioSpeechRequest, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Generate speech Generates audio from the input text.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="audioSpeechRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateSpeechApiResponse"/>&gt;</returns>
        public async Task<ICreateSpeechApiResponse> CreateSpeechAsync(AudioSpeechRequest audioSpeechRequest, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateCreateSpeech(audioSpeechRequest);

                FormatCreateSpeech(audioSpeechRequest);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/audio/speech"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/audio/speech");

                    httpRequestMessageLocalVar.Content = (audioSpeechRequest as object) is System.IO.Stream stream
                        ? httpRequestMessageLocalVar.Content = new StreamContent(stream)
                        : httpRequestMessageLocalVar.Content = new StringContent(JsonSerializer.Serialize(audioSpeechRequest, _jsonSerializerOptions));

                    List<TokenBase> tokenBaseLocalVars = new List<TokenBase>();
                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    BearerToken bearerTokenLocalVar1 = (BearerToken) await BearerTokenProvider.GetAsync(cancellation: cancellationToken).ConfigureAwait(false);

                    tokenBaseLocalVars.Add(bearerTokenLocalVar1);

                    bearerTokenLocalVar1.UseInHeader(httpRequestMessageLocalVar, "");

                    string[] contentTypes = new string[] {
                        "application/json"
                    };

                    string? contentTypeLocalVar = ClientUtils.SelectHeaderContentType(contentTypes);

                    if (contentTypeLocalVar != null && httpRequestMessageLocalVar.Content != null)
                        httpRequestMessageLocalVar.Content.Headers.ContentType = new MediaTypeHeaderValue(contentTypeLocalVar);

                    string[] acceptLocalVars = new string[] {
                        "audio/mpeg"
                    };

                    string? acceptLocalVar = ClientUtils.SelectHeaderAccept(acceptLocalVars);

                    if (acceptLocalVar != null)
                        httpRequestMessageLocalVar.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(acceptLocalVar));

                    httpRequestMessageLocalVar.Method = HttpMethod.Post;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<CreateSpeechApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<CreateSpeechApiResponse>();
                        CreateSpeechApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            case (200):
                            {
                                byte[] responseBytesArrayLocalVar = await httpResponseMessageLocalVar.Content.ReadAsByteArrayAsync(cancellationToken).ConfigureAwait(false);
                                System.IO.Stream responseContentStreamLocalVar = new System.IO.MemoryStream(responseBytesArrayLocalVar);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentStreamLocalVar, "/audio/speech", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/audio/speech", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterCreateSpeechDefaultImplementation(apiResponseLocalVar, audioSpeechRequest);

                        Events.ExecuteOnCreateSpeech(apiResponseLocalVar);

                        if (apiResponseLocalVar.StatusCode == (HttpStatusCode) 429)
                            foreach(TokenBase tokenBaseLocalVar in tokenBaseLocalVars)
                                tokenBaseLocalVar.BeginRateLimit();

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorCreateSpeechDefaultImplementation(e, "/audio/speech", uriBuilderLocalVar.Path, audioSpeechRequest);
                Events.ExecuteOnErrorCreateSpeech(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="CreateSpeechApiResponse"/>
        /// </summary>
        public partial class CreateSpeechApiResponse : AIStatsSdk.Client.ApiResponse, ICreateSpeechApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<CreateSpeechApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="CreateSpeechApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateSpeechApiResponse(ILogger<CreateSpeechApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="CreateSpeechApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateSpeechApiResponse(ILogger<CreateSpeechApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public System.IO.Stream? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? ContentStream
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out System.IO.Stream? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatCreateTranscription(ref string model, ref Option<string> audioUrl, ref Option<string> audioB64, ref Option<string> language);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="model"></param>
        /// <param name="audioUrl"></param>
        /// <param name="audioB64"></param>
        /// <param name="language"></param>
        /// <returns></returns>
        private void ValidateCreateTranscription(string model, Option<string> audioUrl, Option<string> audioB64, Option<string> language)
        {
            if (model == null)
                throw new ArgumentNullException(nameof(model));

            if (audioUrl.IsSet && audioUrl.Value == null)
                throw new ArgumentNullException(nameof(audioUrl));

            if (audioB64.IsSet && audioB64.Value == null)
                throw new ArgumentNullException(nameof(audioB64));

            if (language.IsSet && language.Value == null)
                throw new ArgumentNullException(nameof(language));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="model"></param>
        /// <param name="audioUrl"></param>
        /// <param name="audioB64"></param>
        /// <param name="language"></param>
        private void AfterCreateTranscriptionDefaultImplementation(ICreateTranscriptionApiResponse apiResponseLocalVar, string model, Option<string> audioUrl, Option<string> audioB64, Option<string> language)
        {
            bool suppressDefaultLog = false;
            AfterCreateTranscription(ref suppressDefaultLog, apiResponseLocalVar, model, audioUrl, audioB64, language);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="model"></param>
        /// <param name="audioUrl"></param>
        /// <param name="audioB64"></param>
        /// <param name="language"></param>
        partial void AfterCreateTranscription(ref bool suppressDefaultLog, ICreateTranscriptionApiResponse apiResponseLocalVar, string model, Option<string> audioUrl, Option<string> audioB64, Option<string> language);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="model"></param>
        /// <param name="audioUrl"></param>
        /// <param name="audioB64"></param>
        /// <param name="language"></param>
        private void OnErrorCreateTranscriptionDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, string model, Option<string> audioUrl, Option<string> audioB64, Option<string> language)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorCreateTranscription(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, model, audioUrl, audioB64, language);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="model"></param>
        /// <param name="audioUrl"></param>
        /// <param name="audioB64"></param>
        /// <param name="language"></param>
        partial void OnErrorCreateTranscription(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, string model, Option<string> audioUrl, Option<string> audioB64, Option<string> language);

        /// <summary>
        /// Create transcription Transcribes audio into the input language.
        /// </summary>
        /// <param name="model"></param>
        /// <param name="audioUrl"> (optional)</param>
        /// <param name="audioB64"> (optional)</param>
        /// <param name="language"> (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateTranscriptionApiResponse"/>&gt;</returns>
        public async Task<ICreateTranscriptionApiResponse?> CreateTranscriptionOrDefaultAsync(string model, Option<string> audioUrl = default, Option<string> audioB64 = default, Option<string> language = default, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await CreateTranscriptionAsync(model, audioUrl, audioB64, language, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Create transcription Transcribes audio into the input language.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="model"></param>
        /// <param name="audioUrl"> (optional)</param>
        /// <param name="audioB64"> (optional)</param>
        /// <param name="language"> (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateTranscriptionApiResponse"/>&gt;</returns>
        public async Task<ICreateTranscriptionApiResponse> CreateTranscriptionAsync(string model, Option<string> audioUrl = default, Option<string> audioB64 = default, Option<string> language = default, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateCreateTranscription(model, audioUrl, audioB64, language);

                FormatCreateTranscription(ref model, ref audioUrl, ref audioB64, ref language);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/audio/transcriptions"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/audio/transcriptions");

                    MultipartContent multipartContentLocalVar = new MultipartContent();

                    httpRequestMessageLocalVar.Content = multipartContentLocalVar;

                    List<KeyValuePair<string?, string?>> formParameterLocalVars = new List<KeyValuePair<string?, string?>>();

                    multipartContentLocalVar.Add(new FormUrlEncodedContent(formParameterLocalVars));

                    formParameterLocalVars.Add(new KeyValuePair<string?, string?>("model", ClientUtils.ParameterToString(model)));

                    if (audioUrl.IsSet)
                        formParameterLocalVars.Add(new KeyValuePair<string?, string?>("audio_url", ClientUtils.ParameterToString(audioUrl.Value)));

                    if (audioB64.IsSet)
                        formParameterLocalVars.Add(new KeyValuePair<string?, string?>("audio_b64", ClientUtils.ParameterToString(audioB64.Value)));

                    if (language.IsSet)
                        formParameterLocalVars.Add(new KeyValuePair<string?, string?>("language", ClientUtils.ParameterToString(language.Value)));

                    List<TokenBase> tokenBaseLocalVars = new List<TokenBase>();
                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    BearerToken bearerTokenLocalVar1 = (BearerToken) await BearerTokenProvider.GetAsync(cancellation: cancellationToken).ConfigureAwait(false);

                    tokenBaseLocalVars.Add(bearerTokenLocalVar1);

                    bearerTokenLocalVar1.UseInHeader(httpRequestMessageLocalVar, "");

                    string[] contentTypes = new string[] {
                        "multipart/form-data"
                    };

                    string? contentTypeLocalVar = ClientUtils.SelectHeaderContentType(contentTypes);

                    if (contentTypeLocalVar != null && httpRequestMessageLocalVar.Content != null)
                        httpRequestMessageLocalVar.Content.Headers.ContentType = new MediaTypeHeaderValue(contentTypeLocalVar);

                    string[] acceptLocalVars = new string[] {
                        "application/json"
                    };

                    string? acceptLocalVar = ClientUtils.SelectHeaderAccept(acceptLocalVars);

                    if (acceptLocalVar != null)
                        httpRequestMessageLocalVar.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(acceptLocalVar));

                    httpRequestMessageLocalVar.Method = HttpMethod.Post;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<CreateTranscriptionApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<CreateTranscriptionApiResponse>();
                        CreateTranscriptionApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/audio/transcriptions", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterCreateTranscriptionDefaultImplementation(apiResponseLocalVar, model, audioUrl, audioB64, language);

                        Events.ExecuteOnCreateTranscription(apiResponseLocalVar);

                        if (apiResponseLocalVar.StatusCode == (HttpStatusCode) 429)
                            foreach(TokenBase tokenBaseLocalVar in tokenBaseLocalVars)
                                tokenBaseLocalVar.BeginRateLimit();

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorCreateTranscriptionDefaultImplementation(e, "/audio/transcriptions", uriBuilderLocalVar.Path, model, audioUrl, audioB64, language);
                Events.ExecuteOnErrorCreateTranscription(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="CreateTranscriptionApiResponse"/>
        /// </summary>
        public partial class CreateTranscriptionApiResponse : AIStatsSdk.Client.ApiResponse, ICreateTranscriptionApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<CreateTranscriptionApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="CreateTranscriptionApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateTranscriptionApiResponse(ILogger<CreateTranscriptionApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="CreateTranscriptionApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateTranscriptionApiResponse(ILogger<CreateTranscriptionApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public AIStatsSdk.Model.AudioTranscriptionResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<AIStatsSdk.Model.AudioTranscriptionResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out AIStatsSdk.Model.AudioTranscriptionResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatCreateTranslation(ref string model, ref Option<string> audioUrl, ref Option<string> audioB64, ref Option<string> language, ref Option<string> prompt, ref Option<decimal> temperature);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="model"></param>
        /// <param name="audioUrl"></param>
        /// <param name="audioB64"></param>
        /// <param name="language"></param>
        /// <param name="prompt"></param>
        /// <returns></returns>
        private void ValidateCreateTranslation(string model, Option<string> audioUrl, Option<string> audioB64, Option<string> language, Option<string> prompt)
        {
            if (model == null)
                throw new ArgumentNullException(nameof(model));

            if (audioUrl.IsSet && audioUrl.Value == null)
                throw new ArgumentNullException(nameof(audioUrl));

            if (audioB64.IsSet && audioB64.Value == null)
                throw new ArgumentNullException(nameof(audioB64));

            if (language.IsSet && language.Value == null)
                throw new ArgumentNullException(nameof(language));

            if (prompt.IsSet && prompt.Value == null)
                throw new ArgumentNullException(nameof(prompt));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="model"></param>
        /// <param name="audioUrl"></param>
        /// <param name="audioB64"></param>
        /// <param name="language"></param>
        /// <param name="prompt"></param>
        /// <param name="temperature"></param>
        private void AfterCreateTranslationDefaultImplementation(ICreateTranslationApiResponse apiResponseLocalVar, string model, Option<string> audioUrl, Option<string> audioB64, Option<string> language, Option<string> prompt, Option<decimal> temperature)
        {
            bool suppressDefaultLog = false;
            AfterCreateTranslation(ref suppressDefaultLog, apiResponseLocalVar, model, audioUrl, audioB64, language, prompt, temperature);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="model"></param>
        /// <param name="audioUrl"></param>
        /// <param name="audioB64"></param>
        /// <param name="language"></param>
        /// <param name="prompt"></param>
        /// <param name="temperature"></param>
        partial void AfterCreateTranslation(ref bool suppressDefaultLog, ICreateTranslationApiResponse apiResponseLocalVar, string model, Option<string> audioUrl, Option<string> audioB64, Option<string> language, Option<string> prompt, Option<decimal> temperature);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="model"></param>
        /// <param name="audioUrl"></param>
        /// <param name="audioB64"></param>
        /// <param name="language"></param>
        /// <param name="prompt"></param>
        /// <param name="temperature"></param>
        private void OnErrorCreateTranslationDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, string model, Option<string> audioUrl, Option<string> audioB64, Option<string> language, Option<string> prompt, Option<decimal> temperature)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorCreateTranslation(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, model, audioUrl, audioB64, language, prompt, temperature);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="model"></param>
        /// <param name="audioUrl"></param>
        /// <param name="audioB64"></param>
        /// <param name="language"></param>
        /// <param name="prompt"></param>
        /// <param name="temperature"></param>
        partial void OnErrorCreateTranslation(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, string model, Option<string> audioUrl, Option<string> audioB64, Option<string> language, Option<string> prompt, Option<decimal> temperature);

        /// <summary>
        /// Create translation Translates audio into English.
        /// </summary>
        /// <param name="model"></param>
        /// <param name="audioUrl"> (optional)</param>
        /// <param name="audioB64"> (optional)</param>
        /// <param name="language"> (optional)</param>
        /// <param name="prompt"> (optional)</param>
        /// <param name="temperature"> (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateTranslationApiResponse"/>&gt;</returns>
        public async Task<ICreateTranslationApiResponse?> CreateTranslationOrDefaultAsync(string model, Option<string> audioUrl = default, Option<string> audioB64 = default, Option<string> language = default, Option<string> prompt = default, Option<decimal> temperature = default, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await CreateTranslationAsync(model, audioUrl, audioB64, language, prompt, temperature, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Create translation Translates audio into English.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="model"></param>
        /// <param name="audioUrl"> (optional)</param>
        /// <param name="audioB64"> (optional)</param>
        /// <param name="language"> (optional)</param>
        /// <param name="prompt"> (optional)</param>
        /// <param name="temperature"> (optional)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateTranslationApiResponse"/>&gt;</returns>
        public async Task<ICreateTranslationApiResponse> CreateTranslationAsync(string model, Option<string> audioUrl = default, Option<string> audioB64 = default, Option<string> language = default, Option<string> prompt = default, Option<decimal> temperature = default, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateCreateTranslation(model, audioUrl, audioB64, language, prompt);

                FormatCreateTranslation(ref model, ref audioUrl, ref audioB64, ref language, ref prompt, ref temperature);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/audio/translations"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/audio/translations");

                    MultipartContent multipartContentLocalVar = new MultipartContent();

                    httpRequestMessageLocalVar.Content = multipartContentLocalVar;

                    List<KeyValuePair<string?, string?>> formParameterLocalVars = new List<KeyValuePair<string?, string?>>();

                    multipartContentLocalVar.Add(new FormUrlEncodedContent(formParameterLocalVars));

                    formParameterLocalVars.Add(new KeyValuePair<string?, string?>("model", ClientUtils.ParameterToString(model)));

                    if (audioUrl.IsSet)
                        formParameterLocalVars.Add(new KeyValuePair<string?, string?>("audio_url", ClientUtils.ParameterToString(audioUrl.Value)));

                    if (audioB64.IsSet)
                        formParameterLocalVars.Add(new KeyValuePair<string?, string?>("audio_b64", ClientUtils.ParameterToString(audioB64.Value)));

                    if (language.IsSet)
                        formParameterLocalVars.Add(new KeyValuePair<string?, string?>("language", ClientUtils.ParameterToString(language.Value)));

                    if (prompt.IsSet)
                        formParameterLocalVars.Add(new KeyValuePair<string?, string?>("prompt", ClientUtils.ParameterToString(prompt.Value)));

                    if (temperature.IsSet)
                        formParameterLocalVars.Add(new KeyValuePair<string?, string?>("temperature", ClientUtils.ParameterToString(temperature.Value)));

                    List<TokenBase> tokenBaseLocalVars = new List<TokenBase>();
                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    BearerToken bearerTokenLocalVar1 = (BearerToken) await BearerTokenProvider.GetAsync(cancellation: cancellationToken).ConfigureAwait(false);

                    tokenBaseLocalVars.Add(bearerTokenLocalVar1);

                    bearerTokenLocalVar1.UseInHeader(httpRequestMessageLocalVar, "");

                    string[] contentTypes = new string[] {
                        "multipart/form-data"
                    };

                    string? contentTypeLocalVar = ClientUtils.SelectHeaderContentType(contentTypes);

                    if (contentTypeLocalVar != null && httpRequestMessageLocalVar.Content != null)
                        httpRequestMessageLocalVar.Content.Headers.ContentType = new MediaTypeHeaderValue(contentTypeLocalVar);

                    string[] acceptLocalVars = new string[] {
                        "application/json"
                    };

                    string? acceptLocalVar = ClientUtils.SelectHeaderAccept(acceptLocalVars);

                    if (acceptLocalVar != null)
                        httpRequestMessageLocalVar.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(acceptLocalVar));

                    httpRequestMessageLocalVar.Method = HttpMethod.Post;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<CreateTranslationApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<CreateTranslationApiResponse>();
                        CreateTranslationApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/audio/translations", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterCreateTranslationDefaultImplementation(apiResponseLocalVar, model, audioUrl, audioB64, language, prompt, temperature);

                        Events.ExecuteOnCreateTranslation(apiResponseLocalVar);

                        if (apiResponseLocalVar.StatusCode == (HttpStatusCode) 429)
                            foreach(TokenBase tokenBaseLocalVar in tokenBaseLocalVars)
                                tokenBaseLocalVar.BeginRateLimit();

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorCreateTranslationDefaultImplementation(e, "/audio/translations", uriBuilderLocalVar.Path, model, audioUrl, audioB64, language, prompt, temperature);
                Events.ExecuteOnErrorCreateTranslation(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="CreateTranslationApiResponse"/>
        /// </summary>
        public partial class CreateTranslationApiResponse : AIStatsSdk.Client.ApiResponse, ICreateTranslationApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<CreateTranslationApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="CreateTranslationApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateTranslationApiResponse(ILogger<CreateTranslationApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="CreateTranslationApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateTranslationApiResponse(ILogger<CreateTranslationApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public AIStatsSdk.Model.AudioTranslationResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<AIStatsSdk.Model.AudioTranslationResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out AIStatsSdk.Model.AudioTranslationResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatCreateVideo(VideoGenerationRequest videoGenerationRequest);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="videoGenerationRequest"></param>
        /// <returns></returns>
        private void ValidateCreateVideo(VideoGenerationRequest videoGenerationRequest)
        {
            if (videoGenerationRequest == null)
                throw new ArgumentNullException(nameof(videoGenerationRequest));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="videoGenerationRequest"></param>
        private void AfterCreateVideoDefaultImplementation(ICreateVideoApiResponse apiResponseLocalVar, VideoGenerationRequest videoGenerationRequest)
        {
            bool suppressDefaultLog = false;
            AfterCreateVideo(ref suppressDefaultLog, apiResponseLocalVar, videoGenerationRequest);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="videoGenerationRequest"></param>
        partial void AfterCreateVideo(ref bool suppressDefaultLog, ICreateVideoApiResponse apiResponseLocalVar, VideoGenerationRequest videoGenerationRequest);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="videoGenerationRequest"></param>
        private void OnErrorCreateVideoDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, VideoGenerationRequest videoGenerationRequest)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorCreateVideo(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, videoGenerationRequest);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="videoGenerationRequest"></param>
        partial void OnErrorCreateVideo(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, VideoGenerationRequest videoGenerationRequest);

        /// <summary>
        /// Create video Creates a video from a prompt.
        /// </summary>
        /// <param name="videoGenerationRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateVideoApiResponse"/>&gt;</returns>
        public async Task<ICreateVideoApiResponse?> CreateVideoOrDefaultAsync(VideoGenerationRequest videoGenerationRequest, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await CreateVideoAsync(videoGenerationRequest, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Create video Creates a video from a prompt.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="videoGenerationRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="ICreateVideoApiResponse"/>&gt;</returns>
        public async Task<ICreateVideoApiResponse> CreateVideoAsync(VideoGenerationRequest videoGenerationRequest, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateCreateVideo(videoGenerationRequest);

                FormatCreateVideo(videoGenerationRequest);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/videos"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/videos");

                    httpRequestMessageLocalVar.Content = (videoGenerationRequest as object) is System.IO.Stream stream
                        ? httpRequestMessageLocalVar.Content = new StreamContent(stream)
                        : httpRequestMessageLocalVar.Content = new StringContent(JsonSerializer.Serialize(videoGenerationRequest, _jsonSerializerOptions));

                    List<TokenBase> tokenBaseLocalVars = new List<TokenBase>();
                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    BearerToken bearerTokenLocalVar1 = (BearerToken) await BearerTokenProvider.GetAsync(cancellation: cancellationToken).ConfigureAwait(false);

                    tokenBaseLocalVars.Add(bearerTokenLocalVar1);

                    bearerTokenLocalVar1.UseInHeader(httpRequestMessageLocalVar, "");

                    string[] contentTypes = new string[] {
                        "application/json"
                    };

                    string? contentTypeLocalVar = ClientUtils.SelectHeaderContentType(contentTypes);

                    if (contentTypeLocalVar != null && httpRequestMessageLocalVar.Content != null)
                        httpRequestMessageLocalVar.Content.Headers.ContentType = new MediaTypeHeaderValue(contentTypeLocalVar);

                    string[] acceptLocalVars = new string[] {
                        "application/json"
                    };

                    string? acceptLocalVar = ClientUtils.SelectHeaderAccept(acceptLocalVars);

                    if (acceptLocalVar != null)
                        httpRequestMessageLocalVar.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(acceptLocalVar));

                    httpRequestMessageLocalVar.Method = HttpMethod.Post;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<CreateVideoApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<CreateVideoApiResponse>();
                        CreateVideoApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/videos", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterCreateVideoDefaultImplementation(apiResponseLocalVar, videoGenerationRequest);

                        Events.ExecuteOnCreateVideo(apiResponseLocalVar);

                        if (apiResponseLocalVar.StatusCode == (HttpStatusCode) 429)
                            foreach(TokenBase tokenBaseLocalVar in tokenBaseLocalVars)
                                tokenBaseLocalVar.BeginRateLimit();

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorCreateVideoDefaultImplementation(e, "/videos", uriBuilderLocalVar.Path, videoGenerationRequest);
                Events.ExecuteOnErrorCreateVideo(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="CreateVideoApiResponse"/>
        /// </summary>
        public partial class CreateVideoApiResponse : AIStatsSdk.Client.ApiResponse, ICreateVideoApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<CreateVideoApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="CreateVideoApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateVideoApiResponse(ILogger<CreateVideoApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="CreateVideoApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public CreateVideoApiResponse(ILogger<CreateVideoApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public AIStatsSdk.Model.VideoGenerationResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<AIStatsSdk.Model.VideoGenerationResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out AIStatsSdk.Model.VideoGenerationResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatGetAnalytics(GetAnalyticsRequest getAnalyticsRequest);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="getAnalyticsRequest"></param>
        /// <returns></returns>
        private void ValidateGetAnalytics(GetAnalyticsRequest getAnalyticsRequest)
        {
            if (getAnalyticsRequest == null)
                throw new ArgumentNullException(nameof(getAnalyticsRequest));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="getAnalyticsRequest"></param>
        private void AfterGetAnalyticsDefaultImplementation(IGetAnalyticsApiResponse apiResponseLocalVar, GetAnalyticsRequest getAnalyticsRequest)
        {
            bool suppressDefaultLog = false;
            AfterGetAnalytics(ref suppressDefaultLog, apiResponseLocalVar, getAnalyticsRequest);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="getAnalyticsRequest"></param>
        partial void AfterGetAnalytics(ref bool suppressDefaultLog, IGetAnalyticsApiResponse apiResponseLocalVar, GetAnalyticsRequest getAnalyticsRequest);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="getAnalyticsRequest"></param>
        private void OnErrorGetAnalyticsDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, GetAnalyticsRequest getAnalyticsRequest)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorGetAnalytics(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, getAnalyticsRequest);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="getAnalyticsRequest"></param>
        partial void OnErrorGetAnalytics(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, GetAnalyticsRequest getAnalyticsRequest);

        /// <summary>
        /// Get analytics Returns aggregated analytics data.
        /// </summary>
        /// <param name="getAnalyticsRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IGetAnalyticsApiResponse"/>&gt;</returns>
        public async Task<IGetAnalyticsApiResponse?> GetAnalyticsOrDefaultAsync(GetAnalyticsRequest getAnalyticsRequest, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await GetAnalyticsAsync(getAnalyticsRequest, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Get analytics Returns aggregated analytics data.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="getAnalyticsRequest"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IGetAnalyticsApiResponse"/>&gt;</returns>
        public async Task<IGetAnalyticsApiResponse> GetAnalyticsAsync(GetAnalyticsRequest getAnalyticsRequest, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateGetAnalytics(getAnalyticsRequest);

                FormatGetAnalytics(getAnalyticsRequest);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/analytics"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/analytics");

                    httpRequestMessageLocalVar.Content = (getAnalyticsRequest as object) is System.IO.Stream stream
                        ? httpRequestMessageLocalVar.Content = new StreamContent(stream)
                        : httpRequestMessageLocalVar.Content = new StringContent(JsonSerializer.Serialize(getAnalyticsRequest, _jsonSerializerOptions));

                    List<TokenBase> tokenBaseLocalVars = new List<TokenBase>();
                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    BearerToken bearerTokenLocalVar1 = (BearerToken) await BearerTokenProvider.GetAsync(cancellation: cancellationToken).ConfigureAwait(false);

                    tokenBaseLocalVars.Add(bearerTokenLocalVar1);

                    bearerTokenLocalVar1.UseInHeader(httpRequestMessageLocalVar, "");

                    string[] contentTypes = new string[] {
                        "application/json"
                    };

                    string? contentTypeLocalVar = ClientUtils.SelectHeaderContentType(contentTypes);

                    if (contentTypeLocalVar != null && httpRequestMessageLocalVar.Content != null)
                        httpRequestMessageLocalVar.Content.Headers.ContentType = new MediaTypeHeaderValue(contentTypeLocalVar);

                    string[] acceptLocalVars = new string[] {
                        "application/json"
                    };

                    string? acceptLocalVar = ClientUtils.SelectHeaderAccept(acceptLocalVars);

                    if (acceptLocalVar != null)
                        httpRequestMessageLocalVar.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(acceptLocalVar));

                    httpRequestMessageLocalVar.Method = HttpMethod.Post;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<GetAnalyticsApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<GetAnalyticsApiResponse>();
                        GetAnalyticsApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/analytics", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterGetAnalyticsDefaultImplementation(apiResponseLocalVar, getAnalyticsRequest);

                        Events.ExecuteOnGetAnalytics(apiResponseLocalVar);

                        if (apiResponseLocalVar.StatusCode == (HttpStatusCode) 429)
                            foreach(TokenBase tokenBaseLocalVar in tokenBaseLocalVars)
                                tokenBaseLocalVar.BeginRateLimit();

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorGetAnalyticsDefaultImplementation(e, "/analytics", uriBuilderLocalVar.Path, getAnalyticsRequest);
                Events.ExecuteOnErrorGetAnalytics(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="GetAnalyticsApiResponse"/>
        /// </summary>
        public partial class GetAnalyticsApiResponse : AIStatsSdk.Client.ApiResponse, IGetAnalyticsApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<GetAnalyticsApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="GetAnalyticsApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public GetAnalyticsApiResponse(ILogger<GetAnalyticsApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="GetAnalyticsApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public GetAnalyticsApiResponse(ILogger<GetAnalyticsApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public AIStatsSdk.Model.GetAnalytics200Response? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<AIStatsSdk.Model.GetAnalytics200Response>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out AIStatsSdk.Model.GetAnalytics200Response? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatGetGeneration(ref string id);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="id"></param>
        /// <returns></returns>
        private void ValidateGetGeneration(string id)
        {
            if (id == null)
                throw new ArgumentNullException(nameof(id));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="id"></param>
        private void AfterGetGenerationDefaultImplementation(IGetGenerationApiResponse apiResponseLocalVar, string id)
        {
            bool suppressDefaultLog = false;
            AfterGetGeneration(ref suppressDefaultLog, apiResponseLocalVar, id);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="id"></param>
        partial void AfterGetGeneration(ref bool suppressDefaultLog, IGetGenerationApiResponse apiResponseLocalVar, string id);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="id"></param>
        private void OnErrorGetGenerationDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, string id)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorGetGeneration(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, id);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="id"></param>
        partial void OnErrorGetGeneration(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, string id);

        /// <summary>
        /// Get generation Retrieve a specific generation by ID.
        /// </summary>
        /// <param name="id">The ID of the generation</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IGetGenerationApiResponse"/>&gt;</returns>
        public async Task<IGetGenerationApiResponse?> GetGenerationOrDefaultAsync(string id, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await GetGenerationAsync(id, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Get generation Retrieve a specific generation by ID.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="id">The ID of the generation</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IGetGenerationApiResponse"/>&gt;</returns>
        public async Task<IGetGenerationApiResponse> GetGenerationAsync(string id, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateGetGeneration(id);

                FormatGetGeneration(ref id);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/generation"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/generation");

                    System.Collections.Specialized.NameValueCollection parseQueryStringLocalVar = System.Web.HttpUtility.ParseQueryString(string.Empty);

                    parseQueryStringLocalVar["id"] = ClientUtils.ParameterToString(id);

                    uriBuilderLocalVar.Query = parseQueryStringLocalVar.ToString();

                    List<TokenBase> tokenBaseLocalVars = new List<TokenBase>();
                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    BearerToken bearerTokenLocalVar1 = (BearerToken) await BearerTokenProvider.GetAsync(cancellation: cancellationToken).ConfigureAwait(false);

                    tokenBaseLocalVars.Add(bearerTokenLocalVar1);

                    bearerTokenLocalVar1.UseInHeader(httpRequestMessageLocalVar, "");

                    string[] acceptLocalVars = new string[] {
                        "application/json"
                    };

                    string? acceptLocalVar = ClientUtils.SelectHeaderAccept(acceptLocalVars);

                    if (acceptLocalVar != null)
                        httpRequestMessageLocalVar.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(acceptLocalVar));

                    httpRequestMessageLocalVar.Method = HttpMethod.Get;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<GetGenerationApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<GetGenerationApiResponse>();
                        GetGenerationApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/generation", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterGetGenerationDefaultImplementation(apiResponseLocalVar, id);

                        Events.ExecuteOnGetGeneration(apiResponseLocalVar);

                        if (apiResponseLocalVar.StatusCode == (HttpStatusCode) 429)
                            foreach(TokenBase tokenBaseLocalVar in tokenBaseLocalVars)
                                tokenBaseLocalVar.BeginRateLimit();

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorGetGenerationDefaultImplementation(e, "/generation", uriBuilderLocalVar.Path, id);
                Events.ExecuteOnErrorGetGeneration(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="GetGenerationApiResponse"/>
        /// </summary>
        public partial class GetGenerationApiResponse : AIStatsSdk.Client.ApiResponse, IGetGenerationApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<GetGenerationApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="GetGenerationApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public GetGenerationApiResponse(ILogger<GetGenerationApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="GetGenerationApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public GetGenerationApiResponse(ILogger<GetGenerationApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public AIStatsSdk.Model.GenerationResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<AIStatsSdk.Model.GenerationResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out AIStatsSdk.Model.GenerationResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 401 Unauthorized
            /// </summary>
            /// <returns></returns>
            public bool IsUnauthorized => 401 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 401 Unauthorized
            /// </summary>
            /// <returns></returns>
            public AIStatsSdk.Model.GetGeneration401Response? Unauthorized()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsUnauthorized
                    ? System.Text.Json.JsonSerializer.Deserialize<AIStatsSdk.Model.GetGeneration401Response>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 401 Unauthorized and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryUnauthorized([NotNullWhen(true)]out AIStatsSdk.Model.GetGeneration401Response? result)
            {
                result = null;

                try
                {
                    result = Unauthorized();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)401);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 404 NotFound
            /// </summary>
            /// <returns></returns>
            public bool IsNotFound => 404 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 404 NotFound
            /// </summary>
            /// <returns></returns>
            public AIStatsSdk.Model.GetGeneration404Response? NotFound()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsNotFound
                    ? System.Text.Json.JsonSerializer.Deserialize<AIStatsSdk.Model.GetGeneration404Response>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 404 NotFound and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryNotFound([NotNullWhen(true)]out AIStatsSdk.Model.GetGeneration404Response? result)
            {
                result = null;

                try
                {
                    result = NotFound();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)404);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        private void AfterHealthzDefaultImplementation(IHealthzApiResponse apiResponseLocalVar)
        {
            bool suppressDefaultLog = false;
            AfterHealthz(ref suppressDefaultLog, apiResponseLocalVar);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        partial void AfterHealthz(ref bool suppressDefaultLog, IHealthzApiResponse apiResponseLocalVar);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        private void OnErrorHealthzDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorHealthz(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        partial void OnErrorHealthz(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar);

        /// <summary>
        /// Health check Returns the health status of the API.
        /// </summary>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IHealthzApiResponse"/>&gt;</returns>
        public async Task<IHealthzApiResponse?> HealthzOrDefaultAsync(System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await HealthzAsync(cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Health check Returns the health status of the API.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IHealthzApiResponse"/>&gt;</returns>
        public async Task<IHealthzApiResponse> HealthzAsync(System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/healthz"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/healthz");

                    List<TokenBase> tokenBaseLocalVars = new List<TokenBase>();
                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    BearerToken bearerTokenLocalVar1 = (BearerToken) await BearerTokenProvider.GetAsync(cancellation: cancellationToken).ConfigureAwait(false);

                    tokenBaseLocalVars.Add(bearerTokenLocalVar1);

                    bearerTokenLocalVar1.UseInHeader(httpRequestMessageLocalVar, "");

                    string[] acceptLocalVars = new string[] {
                        "application/json"
                    };

                    string? acceptLocalVar = ClientUtils.SelectHeaderAccept(acceptLocalVars);

                    if (acceptLocalVar != null)
                        httpRequestMessageLocalVar.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(acceptLocalVar));

                    httpRequestMessageLocalVar.Method = HttpMethod.Get;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<HealthzApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<HealthzApiResponse>();
                        HealthzApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/healthz", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterHealthzDefaultImplementation(apiResponseLocalVar);

                        Events.ExecuteOnHealthz(apiResponseLocalVar);

                        if (apiResponseLocalVar.StatusCode == (HttpStatusCode) 429)
                            foreach(TokenBase tokenBaseLocalVar in tokenBaseLocalVars)
                                tokenBaseLocalVar.BeginRateLimit();

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorHealthzDefaultImplementation(e, "/healthz", uriBuilderLocalVar.Path);
                Events.ExecuteOnErrorHealthz(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="HealthzApiResponse"/>
        /// </summary>
        public partial class HealthzApiResponse : AIStatsSdk.Client.ApiResponse, IHealthzApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<HealthzApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="HealthzApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public HealthzApiResponse(ILogger<HealthzApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="HealthzApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public HealthzApiResponse(ILogger<HealthzApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public AIStatsSdk.Model.Healthz200Response? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<AIStatsSdk.Model.Healthz200Response>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out AIStatsSdk.Model.Healthz200Response? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        private void AfterListFilesDefaultImplementation(IListFilesApiResponse apiResponseLocalVar)
        {
            bool suppressDefaultLog = false;
            AfterListFiles(ref suppressDefaultLog, apiResponseLocalVar);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        partial void AfterListFiles(ref bool suppressDefaultLog, IListFilesApiResponse apiResponseLocalVar);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        private void OnErrorListFilesDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorListFiles(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        partial void OnErrorListFiles(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar);

        /// <summary>
        /// List files Returns a list of files that belong to the user&#39;s organization.
        /// </summary>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IListFilesApiResponse"/>&gt;</returns>
        public async Task<IListFilesApiResponse?> ListFilesOrDefaultAsync(System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await ListFilesAsync(cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// List files Returns a list of files that belong to the user&#39;s organization.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IListFilesApiResponse"/>&gt;</returns>
        public async Task<IListFilesApiResponse> ListFilesAsync(System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/files"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/files");

                    List<TokenBase> tokenBaseLocalVars = new List<TokenBase>();
                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    BearerToken bearerTokenLocalVar1 = (BearerToken) await BearerTokenProvider.GetAsync(cancellation: cancellationToken).ConfigureAwait(false);

                    tokenBaseLocalVars.Add(bearerTokenLocalVar1);

                    bearerTokenLocalVar1.UseInHeader(httpRequestMessageLocalVar, "");

                    string[] acceptLocalVars = new string[] {
                        "application/json"
                    };

                    string? acceptLocalVar = ClientUtils.SelectHeaderAccept(acceptLocalVars);

                    if (acceptLocalVar != null)
                        httpRequestMessageLocalVar.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(acceptLocalVar));

                    httpRequestMessageLocalVar.Method = HttpMethod.Get;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<ListFilesApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<ListFilesApiResponse>();
                        ListFilesApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/files", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterListFilesDefaultImplementation(apiResponseLocalVar);

                        Events.ExecuteOnListFiles(apiResponseLocalVar);

                        if (apiResponseLocalVar.StatusCode == (HttpStatusCode) 429)
                            foreach(TokenBase tokenBaseLocalVar in tokenBaseLocalVars)
                                tokenBaseLocalVar.BeginRateLimit();

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorListFilesDefaultImplementation(e, "/files", uriBuilderLocalVar.Path);
                Events.ExecuteOnErrorListFiles(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="ListFilesApiResponse"/>
        /// </summary>
        public partial class ListFilesApiResponse : AIStatsSdk.Client.ApiResponse, IListFilesApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<ListFilesApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="ListFilesApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public ListFilesApiResponse(ILogger<ListFilesApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="ListFilesApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public ListFilesApiResponse(ILogger<ListFilesApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public AIStatsSdk.Model.ListFilesResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<AIStatsSdk.Model.ListFilesResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out AIStatsSdk.Model.ListFilesResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatListModels(Option<List<string>> endpoints, Option<ListModelsOrganisationParameter> organisation, Option<List<string>> inputTypes, Option<List<string>> outputTypes, Option<List<string>> varParams, ref Option<int> limit, ref Option<int> offset);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="endpoints"></param>
        /// <param name="organisation"></param>
        /// <param name="inputTypes"></param>
        /// <param name="outputTypes"></param>
        /// <param name="varParams"></param>
        /// <returns></returns>
        private void ValidateListModels(Option<List<string>> endpoints, Option<ListModelsOrganisationParameter> organisation, Option<List<string>> inputTypes, Option<List<string>> outputTypes, Option<List<string>> varParams)
        {
            if (endpoints.IsSet && endpoints.Value == null)
                throw new ArgumentNullException(nameof(endpoints));

            if (organisation.IsSet && organisation.Value == null)
                throw new ArgumentNullException(nameof(organisation));

            if (inputTypes.IsSet && inputTypes.Value == null)
                throw new ArgumentNullException(nameof(inputTypes));

            if (outputTypes.IsSet && outputTypes.Value == null)
                throw new ArgumentNullException(nameof(outputTypes));

            if (varParams.IsSet && varParams.Value == null)
                throw new ArgumentNullException(nameof(varParams));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="endpoints"></param>
        /// <param name="organisation"></param>
        /// <param name="inputTypes"></param>
        /// <param name="outputTypes"></param>
        /// <param name="varParams"></param>
        /// <param name="limit"></param>
        /// <param name="offset"></param>
        private void AfterListModelsDefaultImplementation(IListModelsApiResponse apiResponseLocalVar, Option<List<string>> endpoints, Option<ListModelsOrganisationParameter> organisation, Option<List<string>> inputTypes, Option<List<string>> outputTypes, Option<List<string>> varParams, Option<int> limit, Option<int> offset)
        {
            bool suppressDefaultLog = false;
            AfterListModels(ref suppressDefaultLog, apiResponseLocalVar, endpoints, organisation, inputTypes, outputTypes, varParams, limit, offset);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="endpoints"></param>
        /// <param name="organisation"></param>
        /// <param name="inputTypes"></param>
        /// <param name="outputTypes"></param>
        /// <param name="varParams"></param>
        /// <param name="limit"></param>
        /// <param name="offset"></param>
        partial void AfterListModels(ref bool suppressDefaultLog, IListModelsApiResponse apiResponseLocalVar, Option<List<string>> endpoints, Option<ListModelsOrganisationParameter> organisation, Option<List<string>> inputTypes, Option<List<string>> outputTypes, Option<List<string>> varParams, Option<int> limit, Option<int> offset);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="endpoints"></param>
        /// <param name="organisation"></param>
        /// <param name="inputTypes"></param>
        /// <param name="outputTypes"></param>
        /// <param name="varParams"></param>
        /// <param name="limit"></param>
        /// <param name="offset"></param>
        private void OnErrorListModelsDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, Option<List<string>> endpoints, Option<ListModelsOrganisationParameter> organisation, Option<List<string>> inputTypes, Option<List<string>> outputTypes, Option<List<string>> varParams, Option<int> limit, Option<int> offset)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorListModels(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, endpoints, organisation, inputTypes, outputTypes, varParams, limit, offset);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="endpoints"></param>
        /// <param name="organisation"></param>
        /// <param name="inputTypes"></param>
        /// <param name="outputTypes"></param>
        /// <param name="varParams"></param>
        /// <param name="limit"></param>
        /// <param name="offset"></param>
        partial void OnErrorListModels(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, Option<List<string>> endpoints, Option<ListModelsOrganisationParameter> organisation, Option<List<string>> inputTypes, Option<List<string>> outputTypes, Option<List<string>> varParams, Option<int> limit, Option<int> offset);

        /// <summary>
        /// List models Returns a list of available models.
        /// </summary>
        /// <param name="endpoints">Filter by endpoints (optional)</param>
        /// <param name="organisation">Filter by organisation (optional)</param>
        /// <param name="inputTypes">Filter by input types (optional)</param>
        /// <param name="outputTypes">Filter by output types (optional)</param>
        /// <param name="varParams">Filter by params (optional)</param>
        /// <param name="limit">Limit the number of results (optional, default to 50)</param>
        /// <param name="offset">Offset for pagination (optional, default to 0)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IListModelsApiResponse"/>&gt;</returns>
        public async Task<IListModelsApiResponse?> ListModelsOrDefaultAsync(Option<List<string>> endpoints = default, Option<ListModelsOrganisationParameter> organisation = default, Option<List<string>> inputTypes = default, Option<List<string>> outputTypes = default, Option<List<string>> varParams = default, Option<int> limit = default, Option<int> offset = default, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await ListModelsAsync(endpoints, organisation, inputTypes, outputTypes, varParams, limit, offset, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// List models Returns a list of available models.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="endpoints">Filter by endpoints (optional)</param>
        /// <param name="organisation">Filter by organisation (optional)</param>
        /// <param name="inputTypes">Filter by input types (optional)</param>
        /// <param name="outputTypes">Filter by output types (optional)</param>
        /// <param name="varParams">Filter by params (optional)</param>
        /// <param name="limit">Limit the number of results (optional, default to 50)</param>
        /// <param name="offset">Offset for pagination (optional, default to 0)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IListModelsApiResponse"/>&gt;</returns>
        public async Task<IListModelsApiResponse> ListModelsAsync(Option<List<string>> endpoints = default, Option<ListModelsOrganisationParameter> organisation = default, Option<List<string>> inputTypes = default, Option<List<string>> outputTypes = default, Option<List<string>> varParams = default, Option<int> limit = default, Option<int> offset = default, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateListModels(endpoints, organisation, inputTypes, outputTypes, varParams);

                FormatListModels(endpoints, organisation, inputTypes, outputTypes, varParams, ref limit, ref offset);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/models"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/models");

                    System.Collections.Specialized.NameValueCollection parseQueryStringLocalVar = System.Web.HttpUtility.ParseQueryString(string.Empty);

                    if (endpoints.IsSet)
                        parseQueryStringLocalVar["endpoints"] = ClientUtils.ParameterToString(endpoints.Value);

                    if (organisation.IsSet)
                        parseQueryStringLocalVar["organisation"] = ClientUtils.ParameterToString(organisation.Value);

                    if (inputTypes.IsSet)
                        parseQueryStringLocalVar["input_types"] = ClientUtils.ParameterToString(inputTypes.Value);

                    if (outputTypes.IsSet)
                        parseQueryStringLocalVar["output_types"] = ClientUtils.ParameterToString(outputTypes.Value);

                    if (varParams.IsSet)
                        parseQueryStringLocalVar["params"] = ClientUtils.ParameterToString(varParams.Value);

                    if (limit.IsSet)
                        parseQueryStringLocalVar["limit"] = ClientUtils.ParameterToString(limit.Value);

                    if (offset.IsSet)
                        parseQueryStringLocalVar["offset"] = ClientUtils.ParameterToString(offset.Value);

                    uriBuilderLocalVar.Query = parseQueryStringLocalVar.ToString();

                    List<TokenBase> tokenBaseLocalVars = new List<TokenBase>();
                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    BearerToken bearerTokenLocalVar1 = (BearerToken) await BearerTokenProvider.GetAsync(cancellation: cancellationToken).ConfigureAwait(false);

                    tokenBaseLocalVars.Add(bearerTokenLocalVar1);

                    bearerTokenLocalVar1.UseInHeader(httpRequestMessageLocalVar, "");

                    string[] acceptLocalVars = new string[] {
                        "application/json"
                    };

                    string? acceptLocalVar = ClientUtils.SelectHeaderAccept(acceptLocalVars);

                    if (acceptLocalVar != null)
                        httpRequestMessageLocalVar.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(acceptLocalVar));

                    httpRequestMessageLocalVar.Method = HttpMethod.Get;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<ListModelsApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<ListModelsApiResponse>();
                        ListModelsApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/models", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterListModelsDefaultImplementation(apiResponseLocalVar, endpoints, organisation, inputTypes, outputTypes, varParams, limit, offset);

                        Events.ExecuteOnListModels(apiResponseLocalVar);

                        if (apiResponseLocalVar.StatusCode == (HttpStatusCode) 429)
                            foreach(TokenBase tokenBaseLocalVar in tokenBaseLocalVars)
                                tokenBaseLocalVar.BeginRateLimit();

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorListModelsDefaultImplementation(e, "/models", uriBuilderLocalVar.Path, endpoints, organisation, inputTypes, outputTypes, varParams, limit, offset);
                Events.ExecuteOnErrorListModels(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="ListModelsApiResponse"/>
        /// </summary>
        public partial class ListModelsApiResponse : AIStatsSdk.Client.ApiResponse, IListModelsApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<ListModelsApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="ListModelsApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public ListModelsApiResponse(ILogger<ListModelsApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="ListModelsApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public ListModelsApiResponse(ILogger<ListModelsApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public AIStatsSdk.Model.ListModels200Response? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<AIStatsSdk.Model.ListModels200Response>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out AIStatsSdk.Model.ListModels200Response? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            /// <summary>
            /// Returns true if the response is 500 InternalServerError
            /// </summary>
            /// <returns></returns>
            public bool IsInternalServerError => 500 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 500 InternalServerError
            /// </summary>
            /// <returns></returns>
            public AIStatsSdk.Model.ListModels500Response? InternalServerError()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsInternalServerError
                    ? System.Text.Json.JsonSerializer.Deserialize<AIStatsSdk.Model.ListModels500Response>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 500 InternalServerError and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryInternalServerError([NotNullWhen(true)]out AIStatsSdk.Model.ListModels500Response? result)
            {
                result = null;

                try
                {
                    result = InternalServerError();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)500);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatRetrieveBatch(ref string batchId);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="batchId"></param>
        /// <returns></returns>
        private void ValidateRetrieveBatch(string batchId)
        {
            if (batchId == null)
                throw new ArgumentNullException(nameof(batchId));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="batchId"></param>
        private void AfterRetrieveBatchDefaultImplementation(IRetrieveBatchApiResponse apiResponseLocalVar, string batchId)
        {
            bool suppressDefaultLog = false;
            AfterRetrieveBatch(ref suppressDefaultLog, apiResponseLocalVar, batchId);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="batchId"></param>
        partial void AfterRetrieveBatch(ref bool suppressDefaultLog, IRetrieveBatchApiResponse apiResponseLocalVar, string batchId);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="batchId"></param>
        private void OnErrorRetrieveBatchDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, string batchId)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorRetrieveBatch(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, batchId);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="batchId"></param>
        partial void OnErrorRetrieveBatch(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, string batchId);

        /// <summary>
        /// Retrieve batch Retrieves a batch.
        /// </summary>
        /// <param name="batchId">The ID of the batch to retrieve.</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IRetrieveBatchApiResponse"/>&gt;</returns>
        public async Task<IRetrieveBatchApiResponse?> RetrieveBatchOrDefaultAsync(string batchId, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await RetrieveBatchAsync(batchId, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Retrieve batch Retrieves a batch.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="batchId">The ID of the batch to retrieve.</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IRetrieveBatchApiResponse"/>&gt;</returns>
        public async Task<IRetrieveBatchApiResponse> RetrieveBatchAsync(string batchId, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateRetrieveBatch(batchId);

                FormatRetrieveBatch(ref batchId);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/batches/{batch_id}"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/batches/{batch_id}");
                    uriBuilderLocalVar.Path = uriBuilderLocalVar.Path.Replace("%7Bbatch_id%7D", Uri.EscapeDataString(batchId.ToString()));

                    List<TokenBase> tokenBaseLocalVars = new List<TokenBase>();
                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    BearerToken bearerTokenLocalVar1 = (BearerToken) await BearerTokenProvider.GetAsync(cancellation: cancellationToken).ConfigureAwait(false);

                    tokenBaseLocalVars.Add(bearerTokenLocalVar1);

                    bearerTokenLocalVar1.UseInHeader(httpRequestMessageLocalVar, "");

                    string[] acceptLocalVars = new string[] {
                        "application/json"
                    };

                    string? acceptLocalVar = ClientUtils.SelectHeaderAccept(acceptLocalVars);

                    if (acceptLocalVar != null)
                        httpRequestMessageLocalVar.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(acceptLocalVar));

                    httpRequestMessageLocalVar.Method = HttpMethod.Get;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<RetrieveBatchApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<RetrieveBatchApiResponse>();
                        RetrieveBatchApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/batches/{batch_id}", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterRetrieveBatchDefaultImplementation(apiResponseLocalVar, batchId);

                        Events.ExecuteOnRetrieveBatch(apiResponseLocalVar);

                        if (apiResponseLocalVar.StatusCode == (HttpStatusCode) 429)
                            foreach(TokenBase tokenBaseLocalVar in tokenBaseLocalVars)
                                tokenBaseLocalVar.BeginRateLimit();

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorRetrieveBatchDefaultImplementation(e, "/batches/{batch_id}", uriBuilderLocalVar.Path, batchId);
                Events.ExecuteOnErrorRetrieveBatch(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="RetrieveBatchApiResponse"/>
        /// </summary>
        public partial class RetrieveBatchApiResponse : AIStatsSdk.Client.ApiResponse, IRetrieveBatchApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<RetrieveBatchApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="RetrieveBatchApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public RetrieveBatchApiResponse(ILogger<RetrieveBatchApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="RetrieveBatchApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public RetrieveBatchApiResponse(ILogger<RetrieveBatchApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public AIStatsSdk.Model.BatchResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<AIStatsSdk.Model.BatchResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out AIStatsSdk.Model.BatchResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatRetrieveFile(ref string fileId);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="fileId"></param>
        /// <returns></returns>
        private void ValidateRetrieveFile(string fileId)
        {
            if (fileId == null)
                throw new ArgumentNullException(nameof(fileId));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="fileId"></param>
        private void AfterRetrieveFileDefaultImplementation(IRetrieveFileApiResponse apiResponseLocalVar, string fileId)
        {
            bool suppressDefaultLog = false;
            AfterRetrieveFile(ref suppressDefaultLog, apiResponseLocalVar, fileId);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="fileId"></param>
        partial void AfterRetrieveFile(ref bool suppressDefaultLog, IRetrieveFileApiResponse apiResponseLocalVar, string fileId);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="fileId"></param>
        private void OnErrorRetrieveFileDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, string fileId)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorRetrieveFile(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, fileId);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="fileId"></param>
        partial void OnErrorRetrieveFile(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, string fileId);

        /// <summary>
        /// Retrieve file Returns information about a specific file.
        /// </summary>
        /// <param name="fileId">The ID of the file to retrieve.</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IRetrieveFileApiResponse"/>&gt;</returns>
        public async Task<IRetrieveFileApiResponse?> RetrieveFileOrDefaultAsync(string fileId, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await RetrieveFileAsync(fileId, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Retrieve file Returns information about a specific file.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="fileId">The ID of the file to retrieve.</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IRetrieveFileApiResponse"/>&gt;</returns>
        public async Task<IRetrieveFileApiResponse> RetrieveFileAsync(string fileId, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateRetrieveFile(fileId);

                FormatRetrieveFile(ref fileId);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/files/{file_id}"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/files/{file_id}");
                    uriBuilderLocalVar.Path = uriBuilderLocalVar.Path.Replace("%7Bfile_id%7D", Uri.EscapeDataString(fileId.ToString()));

                    List<TokenBase> tokenBaseLocalVars = new List<TokenBase>();
                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    BearerToken bearerTokenLocalVar1 = (BearerToken) await BearerTokenProvider.GetAsync(cancellation: cancellationToken).ConfigureAwait(false);

                    tokenBaseLocalVars.Add(bearerTokenLocalVar1);

                    bearerTokenLocalVar1.UseInHeader(httpRequestMessageLocalVar, "");

                    string[] acceptLocalVars = new string[] {
                        "application/json"
                    };

                    string? acceptLocalVar = ClientUtils.SelectHeaderAccept(acceptLocalVars);

                    if (acceptLocalVar != null)
                        httpRequestMessageLocalVar.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(acceptLocalVar));

                    httpRequestMessageLocalVar.Method = HttpMethod.Get;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<RetrieveFileApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<RetrieveFileApiResponse>();
                        RetrieveFileApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/files/{file_id}", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterRetrieveFileDefaultImplementation(apiResponseLocalVar, fileId);

                        Events.ExecuteOnRetrieveFile(apiResponseLocalVar);

                        if (apiResponseLocalVar.StatusCode == (HttpStatusCode) 429)
                            foreach(TokenBase tokenBaseLocalVar in tokenBaseLocalVars)
                                tokenBaseLocalVar.BeginRateLimit();

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorRetrieveFileDefaultImplementation(e, "/files/{file_id}", uriBuilderLocalVar.Path, fileId);
                Events.ExecuteOnErrorRetrieveFile(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="RetrieveFileApiResponse"/>
        /// </summary>
        public partial class RetrieveFileApiResponse : AIStatsSdk.Client.ApiResponse, IRetrieveFileApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<RetrieveFileApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="RetrieveFileApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public RetrieveFileApiResponse(ILogger<RetrieveFileApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="RetrieveFileApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public RetrieveFileApiResponse(ILogger<RetrieveFileApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public AIStatsSdk.Model.FileResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<AIStatsSdk.Model.FileResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out AIStatsSdk.Model.FileResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        private void AfterRootDefaultImplementation(IRootApiResponse apiResponseLocalVar)
        {
            bool suppressDefaultLog = false;
            AfterRoot(ref suppressDefaultLog, apiResponseLocalVar);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        partial void AfterRoot(ref bool suppressDefaultLog, IRootApiResponse apiResponseLocalVar);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        private void OnErrorRootDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorRoot(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        partial void OnErrorRoot(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar);

        /// <summary>
        /// Root endpoint Returns a welcome message.
        /// </summary>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IRootApiResponse"/>&gt;</returns>
        public async Task<IRootApiResponse?> RootOrDefaultAsync(System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await RootAsync(cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Root endpoint Returns a welcome message.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IRootApiResponse"/>&gt;</returns>
        public async Task<IRootApiResponse> RootAsync(System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/");

                    List<TokenBase> tokenBaseLocalVars = new List<TokenBase>();
                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    BearerToken bearerTokenLocalVar1 = (BearerToken) await BearerTokenProvider.GetAsync(cancellation: cancellationToken).ConfigureAwait(false);

                    tokenBaseLocalVars.Add(bearerTokenLocalVar1);

                    bearerTokenLocalVar1.UseInHeader(httpRequestMessageLocalVar, "");

                    string[] acceptLocalVars = new string[] {
                        "application/json"
                    };

                    string? acceptLocalVar = ClientUtils.SelectHeaderAccept(acceptLocalVars);

                    if (acceptLocalVar != null)
                        httpRequestMessageLocalVar.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(acceptLocalVar));

                    httpRequestMessageLocalVar.Method = HttpMethod.Get;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<RootApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<RootApiResponse>();
                        RootApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterRootDefaultImplementation(apiResponseLocalVar);

                        Events.ExecuteOnRoot(apiResponseLocalVar);

                        if (apiResponseLocalVar.StatusCode == (HttpStatusCode) 429)
                            foreach(TokenBase tokenBaseLocalVar in tokenBaseLocalVars)
                                tokenBaseLocalVar.BeginRateLimit();

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorRootDefaultImplementation(e, "/", uriBuilderLocalVar.Path);
                Events.ExecuteOnErrorRoot(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="RootApiResponse"/>
        /// </summary>
        public partial class RootApiResponse : AIStatsSdk.Client.ApiResponse, IRootApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<RootApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="RootApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public RootApiResponse(ILogger<RootApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="RootApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public RootApiResponse(ILogger<RootApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public AIStatsSdk.Model.Root200Response? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<AIStatsSdk.Model.Root200Response>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out AIStatsSdk.Model.Root200Response? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }

        partial void FormatUploadFile(ref System.IO.Stream file, ref string purpose);

        /// <summary>
        /// Validates the request parameters
        /// </summary>
        /// <param name="file"></param>
        /// <param name="purpose"></param>
        /// <returns></returns>
        private void ValidateUploadFile(System.IO.Stream file, string purpose)
        {
            if (file == null)
                throw new ArgumentNullException(nameof(file));

            if (purpose == null)
                throw new ArgumentNullException(nameof(purpose));
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="file"></param>
        /// <param name="purpose"></param>
        private void AfterUploadFileDefaultImplementation(IUploadFileApiResponse apiResponseLocalVar, System.IO.Stream file, string purpose)
        {
            bool suppressDefaultLog = false;
            AfterUploadFile(ref suppressDefaultLog, apiResponseLocalVar, file, purpose);
            if (!suppressDefaultLog)
                Logger.LogInformation("{0,-9} | {1} | {3}", (apiResponseLocalVar.DownloadedAt - apiResponseLocalVar.RequestedAt).TotalSeconds, apiResponseLocalVar.StatusCode, apiResponseLocalVar.Path);
        }

        /// <summary>
        /// Processes the server response
        /// </summary>
        /// <param name="suppressDefaultLog"></param>
        /// <param name="apiResponseLocalVar"></param>
        /// <param name="file"></param>
        /// <param name="purpose"></param>
        partial void AfterUploadFile(ref bool suppressDefaultLog, IUploadFileApiResponse apiResponseLocalVar, System.IO.Stream file, string purpose);

        /// <summary>
        /// Logs exceptions that occur while retrieving the server response
        /// </summary>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="file"></param>
        /// <param name="purpose"></param>
        private void OnErrorUploadFileDefaultImplementation(Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, System.IO.Stream file, string purpose)
        {
            bool suppressDefaultLogLocalVar = false;
            OnErrorUploadFile(ref suppressDefaultLogLocalVar, exceptionLocalVar, pathFormatLocalVar, pathLocalVar, file, purpose);
            if (!suppressDefaultLogLocalVar)
                Logger.LogError(exceptionLocalVar, "An error occurred while sending the request to the server.");
        }

        /// <summary>
        /// A partial method that gives developers a way to provide customized exception handling
        /// </summary>
        /// <param name="suppressDefaultLogLocalVar"></param>
        /// <param name="exceptionLocalVar"></param>
        /// <param name="pathFormatLocalVar"></param>
        /// <param name="pathLocalVar"></param>
        /// <param name="file"></param>
        /// <param name="purpose"></param>
        partial void OnErrorUploadFile(ref bool suppressDefaultLogLocalVar, Exception exceptionLocalVar, string pathFormatLocalVar, string pathLocalVar, System.IO.Stream file, string purpose);

        /// <summary>
        /// Upload file Upload a file that can be used across various endpoints.
        /// </summary>
        /// <param name="file"></param>
        /// <param name="purpose"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IUploadFileApiResponse"/>&gt;</returns>
        public async Task<IUploadFileApiResponse?> UploadFileOrDefaultAsync(System.IO.Stream file, string purpose, System.Threading.CancellationToken cancellationToken = default)
        {
            try
            {
                return await UploadFileAsync(file, purpose, cancellationToken).ConfigureAwait(false);
            }
            catch (Exception)
            {
                return null;
            }
        }

        /// <summary>
        /// Upload file Upload a file that can be used across various endpoints.
        /// </summary>
        /// <exception cref="ApiException">Thrown when fails to make API call</exception>
        /// <param name="file"></param>
        /// <param name="purpose"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns><see cref="Task"/>&lt;<see cref="IUploadFileApiResponse"/>&gt;</returns>
        public async Task<IUploadFileApiResponse> UploadFileAsync(System.IO.Stream file, string purpose, System.Threading.CancellationToken cancellationToken = default)
        {
            UriBuilder uriBuilderLocalVar = new UriBuilder();

            try
            {
                ValidateUploadFile(file, purpose);

                FormatUploadFile(ref file, ref purpose);

                using (HttpRequestMessage httpRequestMessageLocalVar = new HttpRequestMessage())
                {
                    uriBuilderLocalVar.Host = HttpClient.BaseAddress!.Host;
                    uriBuilderLocalVar.Port = HttpClient.BaseAddress.Port;
                    uriBuilderLocalVar.Scheme = HttpClient.BaseAddress.Scheme;
                    uriBuilderLocalVar.Path = HttpClient.BaseAddress.AbsolutePath == "/"
                        ? "/files"
                        : string.Concat(HttpClient.BaseAddress.AbsolutePath, "/files");

                    MultipartContent multipartContentLocalVar = new MultipartContent();

                    httpRequestMessageLocalVar.Content = multipartContentLocalVar;

                    List<KeyValuePair<string?, string?>> formParameterLocalVars = new List<KeyValuePair<string?, string?>>();

                    multipartContentLocalVar.Add(new FormUrlEncodedContent(formParameterLocalVars));                    multipartContentLocalVar.Add(new StreamContent(file));

                    formParameterLocalVars.Add(new KeyValuePair<string?, string?>("purpose", ClientUtils.ParameterToString(purpose)));

                    List<TokenBase> tokenBaseLocalVars = new List<TokenBase>();
                    httpRequestMessageLocalVar.RequestUri = uriBuilderLocalVar.Uri;

                    BearerToken bearerTokenLocalVar1 = (BearerToken) await BearerTokenProvider.GetAsync(cancellation: cancellationToken).ConfigureAwait(false);

                    tokenBaseLocalVars.Add(bearerTokenLocalVar1);

                    bearerTokenLocalVar1.UseInHeader(httpRequestMessageLocalVar, "");

                    string[] contentTypes = new string[] {
                        "multipart/form-data"
                    };

                    string? contentTypeLocalVar = ClientUtils.SelectHeaderContentType(contentTypes);

                    if (contentTypeLocalVar != null && httpRequestMessageLocalVar.Content != null)
                        httpRequestMessageLocalVar.Content.Headers.ContentType = new MediaTypeHeaderValue(contentTypeLocalVar);

                    string[] acceptLocalVars = new string[] {
                        "application/json"
                    };

                    string? acceptLocalVar = ClientUtils.SelectHeaderAccept(acceptLocalVars);

                    if (acceptLocalVar != null)
                        httpRequestMessageLocalVar.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(acceptLocalVar));

                    httpRequestMessageLocalVar.Method = HttpMethod.Post;

                    DateTime requestedAtLocalVar = DateTime.UtcNow;

                    using (HttpResponseMessage httpResponseMessageLocalVar = await HttpClient.SendAsync(httpRequestMessageLocalVar, cancellationToken).ConfigureAwait(false))
                    {
                        ILogger<UploadFileApiResponse> apiResponseLoggerLocalVar = LoggerFactory.CreateLogger<UploadFileApiResponse>();
                        UploadFileApiResponse apiResponseLocalVar;

                        switch ((int)httpResponseMessageLocalVar.StatusCode) {
                            default: {
                                string responseContentLocalVar = await httpResponseMessageLocalVar.Content.ReadAsStringAsync(cancellationToken).ConfigureAwait(false);
                                apiResponseLocalVar = new(apiResponseLoggerLocalVar, httpRequestMessageLocalVar, httpResponseMessageLocalVar, responseContentLocalVar, "/files", requestedAtLocalVar, _jsonSerializerOptions);

                                break;
                            }
                        }

                        AfterUploadFileDefaultImplementation(apiResponseLocalVar, file, purpose);

                        Events.ExecuteOnUploadFile(apiResponseLocalVar);

                        if (apiResponseLocalVar.StatusCode == (HttpStatusCode) 429)
                            foreach(TokenBase tokenBaseLocalVar in tokenBaseLocalVars)
                                tokenBaseLocalVar.BeginRateLimit();

                        return apiResponseLocalVar;
                    }
                }
            }
            catch(Exception e)
            {
                OnErrorUploadFileDefaultImplementation(e, "/files", uriBuilderLocalVar.Path, file, purpose);
                Events.ExecuteOnErrorUploadFile(e);
                throw;
            }
        }

        /// <summary>
        /// The <see cref="UploadFileApiResponse"/>
        /// </summary>
        public partial class UploadFileApiResponse : AIStatsSdk.Client.ApiResponse, IUploadFileApiResponse
        {
            /// <summary>
            /// The logger
            /// </summary>
            public ILogger<UploadFileApiResponse> Logger { get; }

            /// <summary>
            /// The <see cref="UploadFileApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="rawContent"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public UploadFileApiResponse(ILogger<UploadFileApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, string rawContent, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, rawContent, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            /// <summary>
            /// The <see cref="UploadFileApiResponse"/>
            /// </summary>
            /// <param name="logger"></param>
            /// <param name="httpRequestMessage"></param>
            /// <param name="httpResponseMessage"></param>
            /// <param name="contentStream"></param>
            /// <param name="path"></param>
            /// <param name="requestedAt"></param>
            /// <param name="jsonSerializerOptions"></param>
            public UploadFileApiResponse(ILogger<UploadFileApiResponse> logger, System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage, System.IO.Stream contentStream, string path, DateTime requestedAt, System.Text.Json.JsonSerializerOptions jsonSerializerOptions) : base(httpRequestMessage, httpResponseMessage, contentStream, path, requestedAt, jsonSerializerOptions)
            {
                Logger = logger;
                OnCreated(httpRequestMessage, httpResponseMessage);
            }

            partial void OnCreated(global::System.Net.Http.HttpRequestMessage httpRequestMessage, System.Net.Http.HttpResponseMessage httpResponseMessage);

            /// <summary>
            /// Returns true if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public bool IsOk => 200 == (int)StatusCode;

            /// <summary>
            /// Deserializes the response if the response is 200 Ok
            /// </summary>
            /// <returns></returns>
            public AIStatsSdk.Model.FileResponse? Ok()
            {
                // This logic may be modified with the AsModel.mustache template
                return IsOk
                    ? System.Text.Json.JsonSerializer.Deserialize<AIStatsSdk.Model.FileResponse>(RawContent, _jsonSerializerOptions)
                    : null;
            }

            /// <summary>
            /// Returns true if the response is 200 Ok and the deserialized response is not null
            /// </summary>
            /// <param name="result"></param>
            /// <returns></returns>
            public bool TryOk([NotNullWhen(true)]out AIStatsSdk.Model.FileResponse? result)
            {
                result = null;

                try
                {
                    result = Ok();
                } catch (Exception e)
                {
                    OnDeserializationErrorDefaultImplementation(e, (HttpStatusCode)200);
                }

                return result != null;
            }

            private void OnDeserializationErrorDefaultImplementation(Exception exception, HttpStatusCode httpStatusCode)
            {
                bool suppressDefaultLog = false;
                OnDeserializationError(ref suppressDefaultLog, exception, httpStatusCode);
                if (!suppressDefaultLog)
                    Logger.LogError(exception, "An error occurred while deserializing the {code} response.", httpStatusCode);
            }

            partial void OnDeserializationError(ref bool suppressDefaultLog, Exception exception, HttpStatusCode httpStatusCode);
        }
    }
}
