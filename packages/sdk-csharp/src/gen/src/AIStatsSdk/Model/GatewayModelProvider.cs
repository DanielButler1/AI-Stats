// <auto-generated>
/*
 * AI Stats Gateway API
 *
 * Programmatic access to the AI Stats AI Gateway. All endpoints forward requests to the best available provider for the specified model, and return normalised responses with clear structured metadata.
 *
 * The version of the OpenAPI document: 0.1.0
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.ComponentModel.DataAnnotations;
using AIStatsSdk.Client;

namespace AIStatsSdk.Model
{
    /// <summary>
    /// GatewayModelProvider
    /// </summary>
    public partial class GatewayModelProvider : IValidatableObject
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="GatewayModelProvider" /> class.
        /// </summary>
        /// <param name="apiProviderId">Identifier for the provider.</param>
        /// <param name="endpoint">Gateway endpoint served by this provider.</param>
        /// <param name="isActiveGateway">Whether the provider is currently routable via the gateway.</param>
        /// <param name="inputModalities">Input modalities supported by this provider-model pairing.</param>
        /// <param name="outputModalities">Output modalities supported by this provider-model pairing.</param>
        /// <param name="apiProviderName">Human readable provider name.</param>
        /// <param name="link">Canonical URL for the provider.</param>
        /// <param name="countryCode">Provider headquarters country code.</param>
        /// <param name="providerModelSlug">Provider specific model identifier.</param>
        /// <param name="effectiveFrom">Timestamp from which the pairing is effective.</param>
        /// <param name="effectiveTo">Timestamp when the pairing stops being effective.</param>
        [JsonConstructor]
        public GatewayModelProvider(string apiProviderId, EndpointEnum endpoint, bool isActiveGateway, List<string> inputModalities, List<string> outputModalities, string? apiProviderName = default, string? link = default, string? countryCode = default, string? providerModelSlug = default, DateTime? effectiveFrom = default, DateTime? effectiveTo = default)
        {
            ApiProviderId = apiProviderId;
            Endpoint = endpoint;
            IsActiveGateway = isActiveGateway;
            InputModalities = inputModalities;
            OutputModalities = outputModalities;
            ApiProviderName = apiProviderName;
            Link = link;
            CountryCode = countryCode;
            ProviderModelSlug = providerModelSlug;
            EffectiveFrom = effectiveFrom;
            EffectiveTo = effectiveTo;
            OnCreated();
        }

        partial void OnCreated();

        /// <summary>
        /// Gateway endpoint served by this provider.
        /// </summary>
        /// <value>Gateway endpoint served by this provider.</value>
        public enum EndpointEnum
        {
            /// <summary>
            /// Enum ChatCompletions for value: chat.completions
            /// </summary>
            ChatCompletions = 1,

            /// <summary>
            /// Enum ImagesGenerations for value: images.generations
            /// </summary>
            ImagesGenerations = 2,

            /// <summary>
            /// Enum AudioSpeech for value: audio.speech
            /// </summary>
            AudioSpeech = 3,

            /// <summary>
            /// Enum AudioTranscription for value: audio.transcription
            /// </summary>
            AudioTranscription = 4,

            /// <summary>
            /// Enum Moderations for value: moderations
            /// </summary>
            Moderations = 5,

            /// <summary>
            /// Enum VideoGeneration for value: video.generation
            /// </summary>
            VideoGeneration = 6,

            /// <summary>
            /// Enum Embeddings for value: embeddings
            /// </summary>
            Embeddings = 7,

            /// <summary>
            /// Enum Batch for value: batch
            /// </summary>
            Batch = 8
        }

        /// <summary>
        /// Returns a <see cref="EndpointEnum"/>
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        /// <exception cref="NotImplementedException"></exception>
        public static EndpointEnum EndpointEnumFromString(string value)
        {
            if (value.Equals("chat.completions"))
                return EndpointEnum.ChatCompletions;

            if (value.Equals("images.generations"))
                return EndpointEnum.ImagesGenerations;

            if (value.Equals("audio.speech"))
                return EndpointEnum.AudioSpeech;

            if (value.Equals("audio.transcription"))
                return EndpointEnum.AudioTranscription;

            if (value.Equals("moderations"))
                return EndpointEnum.Moderations;

            if (value.Equals("video.generation"))
                return EndpointEnum.VideoGeneration;

            if (value.Equals("embeddings"))
                return EndpointEnum.Embeddings;

            if (value.Equals("batch"))
                return EndpointEnum.Batch;

            throw new NotImplementedException($"Could not convert value to type EndpointEnum: '{value}'");
        }

        /// <summary>
        /// Returns a <see cref="EndpointEnum"/>
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        public static EndpointEnum? EndpointEnumFromStringOrDefault(string value)
        {
            if (value.Equals("chat.completions"))
                return EndpointEnum.ChatCompletions;

            if (value.Equals("images.generations"))
                return EndpointEnum.ImagesGenerations;

            if (value.Equals("audio.speech"))
                return EndpointEnum.AudioSpeech;

            if (value.Equals("audio.transcription"))
                return EndpointEnum.AudioTranscription;

            if (value.Equals("moderations"))
                return EndpointEnum.Moderations;

            if (value.Equals("video.generation"))
                return EndpointEnum.VideoGeneration;

            if (value.Equals("embeddings"))
                return EndpointEnum.Embeddings;

            if (value.Equals("batch"))
                return EndpointEnum.Batch;

            return null;
        }

        /// <summary>
        /// Converts the <see cref="EndpointEnum"/> to the json value
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        /// <exception cref="NotImplementedException"></exception>
        public static string EndpointEnumToJsonValue(EndpointEnum value)
        {
            if (value == EndpointEnum.ChatCompletions)
                return "chat.completions";

            if (value == EndpointEnum.ImagesGenerations)
                return "images.generations";

            if (value == EndpointEnum.AudioSpeech)
                return "audio.speech";

            if (value == EndpointEnum.AudioTranscription)
                return "audio.transcription";

            if (value == EndpointEnum.Moderations)
                return "moderations";

            if (value == EndpointEnum.VideoGeneration)
                return "video.generation";

            if (value == EndpointEnum.Embeddings)
                return "embeddings";

            if (value == EndpointEnum.Batch)
                return "batch";

            throw new NotImplementedException($"Value could not be handled: '{value}'");
        }

        /// <summary>
        /// Gateway endpoint served by this provider.
        /// </summary>
        /// <value>Gateway endpoint served by this provider.</value>
        [JsonPropertyName("endpoint")]
        public EndpointEnum Endpoint { get; set; }

        /// <summary>
        /// Identifier for the provider.
        /// </summary>
        /// <value>Identifier for the provider.</value>
        [JsonPropertyName("api_provider_id")]
        public string ApiProviderId { get; set; }

        /// <summary>
        /// Whether the provider is currently routable via the gateway.
        /// </summary>
        /// <value>Whether the provider is currently routable via the gateway.</value>
        [JsonPropertyName("is_active_gateway")]
        public bool IsActiveGateway { get; set; }

        /// <summary>
        /// Input modalities supported by this provider-model pairing.
        /// </summary>
        /// <value>Input modalities supported by this provider-model pairing.</value>
        [JsonPropertyName("input_modalities")]
        public List<string> InputModalities { get; set; }

        /// <summary>
        /// Output modalities supported by this provider-model pairing.
        /// </summary>
        /// <value>Output modalities supported by this provider-model pairing.</value>
        [JsonPropertyName("output_modalities")]
        public List<string> OutputModalities { get; set; }

        /// <summary>
        /// Human readable provider name.
        /// </summary>
        /// <value>Human readable provider name.</value>
        [JsonPropertyName("api_provider_name")]
        public string? ApiProviderName { get; set; }

        /// <summary>
        /// Canonical URL for the provider.
        /// </summary>
        /// <value>Canonical URL for the provider.</value>
        [JsonPropertyName("link")]
        public string? Link { get; set; }

        /// <summary>
        /// Provider headquarters country code.
        /// </summary>
        /// <value>Provider headquarters country code.</value>
        [JsonPropertyName("country_code")]
        public string? CountryCode { get; set; }

        /// <summary>
        /// Provider specific model identifier.
        /// </summary>
        /// <value>Provider specific model identifier.</value>
        [JsonPropertyName("provider_model_slug")]
        public string? ProviderModelSlug { get; set; }

        /// <summary>
        /// Timestamp from which the pairing is effective.
        /// </summary>
        /// <value>Timestamp from which the pairing is effective.</value>
        [JsonPropertyName("effective_from")]
        public DateTime? EffectiveFrom { get; set; }

        /// <summary>
        /// Timestamp when the pairing stops being effective.
        /// </summary>
        /// <value>Timestamp when the pairing stops being effective.</value>
        [JsonPropertyName("effective_to")]
        public DateTime? EffectiveTo { get; set; }

        /// <summary>
        /// Gets or Sets additional properties
        /// </summary>
        [JsonExtensionData]
        public Dictionary<string, JsonElement> AdditionalProperties { get; } = new Dictionary<string, JsonElement>();

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class GatewayModelProvider {\n");
            sb.Append("  ApiProviderId: ").Append(ApiProviderId).Append("\n");
            sb.Append("  Endpoint: ").Append(Endpoint).Append("\n");
            sb.Append("  IsActiveGateway: ").Append(IsActiveGateway).Append("\n");
            sb.Append("  InputModalities: ").Append(InputModalities).Append("\n");
            sb.Append("  OutputModalities: ").Append(OutputModalities).Append("\n");
            sb.Append("  ApiProviderName: ").Append(ApiProviderName).Append("\n");
            sb.Append("  Link: ").Append(Link).Append("\n");
            sb.Append("  CountryCode: ").Append(CountryCode).Append("\n");
            sb.Append("  ProviderModelSlug: ").Append(ProviderModelSlug).Append("\n");
            sb.Append("  EffectiveFrom: ").Append(EffectiveFrom).Append("\n");
            sb.Append("  EffectiveTo: ").Append(EffectiveTo).Append("\n");
            sb.Append("  AdditionalProperties: ").Append(AdditionalProperties).Append("\n");
            sb.Append("}\n");
            return sb.ToString();
        }

        /// <summary>
        /// To validate all properties of the instance
        /// </summary>
        /// <param name="validationContext">Validation context</param>
        /// <returns>Validation Result</returns>
        IEnumerable<ValidationResult> IValidatableObject.Validate(ValidationContext validationContext)
        {
            yield break;
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="GatewayModelProvider" />
    /// </summary>
    public class GatewayModelProviderJsonConverter : JsonConverter<GatewayModelProvider>
    {
        /// <summary>
        /// The format to use to serialize EffectiveFrom
        /// </summary>
        public static string EffectiveFromFormat { get; set; } = "yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fffffffK";

        /// <summary>
        /// The format to use to serialize EffectiveTo
        /// </summary>
        public static string EffectiveToFormat { get; set; } = "yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fffffffK";

        /// <summary>
        /// Deserializes json to <see cref="GatewayModelProvider" />
        /// </summary>
        /// <param name="utf8JsonReader"></param>
        /// <param name="typeToConvert"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <returns></returns>
        /// <exception cref="JsonException"></exception>
        public override GatewayModelProvider Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            Option<string?> apiProviderId = default;
            Option<GatewayModelProvider.EndpointEnum?> endpoint = default;
            Option<bool?> isActiveGateway = default;
            Option<List<string>?> inputModalities = default;
            Option<List<string>?> outputModalities = default;
            Option<string?> apiProviderName = default;
            Option<string?> link = default;
            Option<string?> countryCode = default;
            Option<string?> providerModelSlug = default;
            Option<DateTime?> effectiveFrom = default;
            Option<DateTime?> effectiveTo = default;

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string? localVarJsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (localVarJsonPropertyName)
                    {
                        case "api_provider_id":
                            apiProviderId = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "endpoint":
                            string? endpointRawValue = utf8JsonReader.GetString();
                            if (endpointRawValue != null)
                                endpoint = new Option<GatewayModelProvider.EndpointEnum?>(GatewayModelProvider.EndpointEnumFromStringOrDefault(endpointRawValue));
                            break;
                        case "is_active_gateway":
                            isActiveGateway = new Option<bool?>(utf8JsonReader.TokenType == JsonTokenType.Null ? (bool?)null : utf8JsonReader.GetBoolean());
                            break;
                        case "input_modalities":
                            inputModalities = new Option<List<string>?>(JsonSerializer.Deserialize<List<string>>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        case "output_modalities":
                            outputModalities = new Option<List<string>?>(JsonSerializer.Deserialize<List<string>>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        case "api_provider_name":
                            apiProviderName = new Option<string?>(utf8JsonReader.GetString());
                            break;
                        case "link":
                            link = new Option<string?>(utf8JsonReader.GetString());
                            break;
                        case "country_code":
                            countryCode = new Option<string?>(utf8JsonReader.GetString());
                            break;
                        case "provider_model_slug":
                            providerModelSlug = new Option<string?>(utf8JsonReader.GetString());
                            break;
                        case "effective_from":
                            effectiveFrom = new Option<DateTime?>(JsonSerializer.Deserialize<DateTime?>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        case "effective_to":
                            effectiveTo = new Option<DateTime?>(JsonSerializer.Deserialize<DateTime?>(ref utf8JsonReader, jsonSerializerOptions));
                            break;
                        default:
                            break;
                    }
                }
            }

            if (!apiProviderId.IsSet)
                throw new ArgumentException("Property is required for class GatewayModelProvider.", nameof(apiProviderId));

            if (!endpoint.IsSet)
                throw new ArgumentException("Property is required for class GatewayModelProvider.", nameof(endpoint));

            if (!isActiveGateway.IsSet)
                throw new ArgumentException("Property is required for class GatewayModelProvider.", nameof(isActiveGateway));

            if (!inputModalities.IsSet)
                throw new ArgumentException("Property is required for class GatewayModelProvider.", nameof(inputModalities));

            if (!outputModalities.IsSet)
                throw new ArgumentException("Property is required for class GatewayModelProvider.", nameof(outputModalities));

            if (!apiProviderName.IsSet)
                throw new ArgumentException("Property is required for class GatewayModelProvider.", nameof(apiProviderName));

            if (!link.IsSet)
                throw new ArgumentException("Property is required for class GatewayModelProvider.", nameof(link));

            if (!countryCode.IsSet)
                throw new ArgumentException("Property is required for class GatewayModelProvider.", nameof(countryCode));

            if (!providerModelSlug.IsSet)
                throw new ArgumentException("Property is required for class GatewayModelProvider.", nameof(providerModelSlug));

            if (!effectiveFrom.IsSet)
                throw new ArgumentException("Property is required for class GatewayModelProvider.", nameof(effectiveFrom));

            if (!effectiveTo.IsSet)
                throw new ArgumentException("Property is required for class GatewayModelProvider.", nameof(effectiveTo));

            if (apiProviderId.IsSet && apiProviderId.Value == null)
                throw new ArgumentNullException(nameof(apiProviderId), "Property is not nullable for class GatewayModelProvider.");

            if (endpoint.IsSet && endpoint.Value == null)
                throw new ArgumentNullException(nameof(endpoint), "Property is not nullable for class GatewayModelProvider.");

            if (isActiveGateway.IsSet && isActiveGateway.Value == null)
                throw new ArgumentNullException(nameof(isActiveGateway), "Property is not nullable for class GatewayModelProvider.");

            if (inputModalities.IsSet && inputModalities.Value == null)
                throw new ArgumentNullException(nameof(inputModalities), "Property is not nullable for class GatewayModelProvider.");

            if (outputModalities.IsSet && outputModalities.Value == null)
                throw new ArgumentNullException(nameof(outputModalities), "Property is not nullable for class GatewayModelProvider.");

            return new GatewayModelProvider(apiProviderId.Value!, endpoint.Value!.Value!, isActiveGateway.Value!.Value!, inputModalities.Value!, outputModalities.Value!, apiProviderName.Value!, link.Value!, countryCode.Value!, providerModelSlug.Value!, effectiveFrom.Value!, effectiveTo.Value!);
        }

        /// <summary>
        /// Serializes a <see cref="GatewayModelProvider" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="gatewayModelProvider"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public override void Write(Utf8JsonWriter writer, GatewayModelProvider gatewayModelProvider, JsonSerializerOptions jsonSerializerOptions)
        {
            writer.WriteStartObject();

            WriteProperties(writer, gatewayModelProvider, jsonSerializerOptions);
            writer.WriteEndObject();
        }

        /// <summary>
        /// Serializes the properties of <see cref="GatewayModelProvider" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="gatewayModelProvider"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public void WriteProperties(Utf8JsonWriter writer, GatewayModelProvider gatewayModelProvider, JsonSerializerOptions jsonSerializerOptions)
        {
            if (gatewayModelProvider.ApiProviderId == null)
                throw new ArgumentNullException(nameof(gatewayModelProvider.ApiProviderId), "Property is required for class GatewayModelProvider.");

            if (gatewayModelProvider.InputModalities == null)
                throw new ArgumentNullException(nameof(gatewayModelProvider.InputModalities), "Property is required for class GatewayModelProvider.");

            if (gatewayModelProvider.OutputModalities == null)
                throw new ArgumentNullException(nameof(gatewayModelProvider.OutputModalities), "Property is required for class GatewayModelProvider.");

            writer.WriteString("api_provider_id", gatewayModelProvider.ApiProviderId);

            var endpointRawValue = GatewayModelProvider.EndpointEnumToJsonValue(gatewayModelProvider.Endpoint);
            writer.WriteString("endpoint", endpointRawValue);
            writer.WriteBoolean("is_active_gateway", gatewayModelProvider.IsActiveGateway);

            writer.WritePropertyName("input_modalities");
            JsonSerializer.Serialize(writer, gatewayModelProvider.InputModalities, jsonSerializerOptions);
            writer.WritePropertyName("output_modalities");
            JsonSerializer.Serialize(writer, gatewayModelProvider.OutputModalities, jsonSerializerOptions);
            if (gatewayModelProvider.ApiProviderName != null)
                writer.WriteString("api_provider_name", gatewayModelProvider.ApiProviderName);
            else
                writer.WriteNull("api_provider_name");

            if (gatewayModelProvider.Link != null)
                writer.WriteString("link", gatewayModelProvider.Link);
            else
                writer.WriteNull("link");

            if (gatewayModelProvider.CountryCode != null)
                writer.WriteString("country_code", gatewayModelProvider.CountryCode);
            else
                writer.WriteNull("country_code");

            if (gatewayModelProvider.ProviderModelSlug != null)
                writer.WriteString("provider_model_slug", gatewayModelProvider.ProviderModelSlug);
            else
                writer.WriteNull("provider_model_slug");

            if (gatewayModelProvider.EffectiveFrom != null)
                writer.WriteString("effective_from", gatewayModelProvider.EffectiveFrom.Value.ToString(EffectiveFromFormat));
            else
                writer.WriteNull("effective_from");

            if (gatewayModelProvider.EffectiveTo != null)
                writer.WriteString("effective_to", gatewayModelProvider.EffectiveTo.Value.ToString(EffectiveToFormat));
            else
                writer.WriteNull("effective_to");
        }
    }
}
